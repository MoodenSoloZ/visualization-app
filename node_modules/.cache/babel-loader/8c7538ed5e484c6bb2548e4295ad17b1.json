{"ast":null,"code":"import _toConsumableArray from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { applyPatch } from 'fast-json-patch';\nimport stringify from 'json-stringify-pretty-compact';\nimport * as vegaImport from 'vega';\nimport { writeConfig, mergeConfig, isString, isBoolean } from 'vega';\nimport { expressionInterpreter } from 'vega-interpreter';\nimport * as vegaLiteImport from 'vega-lite';\nimport schemaParser from 'vega-schema-url-parser';\nimport * as themes from 'vega-themes';\nimport { Handler } from 'vega-tooltip';\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar Op = Object.prototype;\nvar hasOwn = Op.hasOwnProperty;\nvar undefined$1; // More compressible than void 0.\n\nvar $Symbol = typeof Symbol === \"function\" ? Symbol : {};\nvar iteratorSymbol = $Symbol.iterator || \"@@iterator\";\nvar asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\nvar toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\nfunction wrap(innerFn, outerFn, self, tryLocsList) {\n  // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n  var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n  var generator = Object.create(protoGenerator.prototype);\n  var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n  // .throw, and .return methods.\n\n  generator._invoke = makeInvokeMethod(innerFn, self, context);\n  return generator;\n} // Try/catch helper to minimize deoptimizations. Returns a completion\n// record like context.tryEntries[i].completion. This interface could\n// have been (and was previously) designed to take a closure to be\n// invoked without arguments, but in all the cases we care about we\n// already have an existing method we want to call, so there's no need\n// to create a new function object. We can even get away with assuming\n// the method takes exactly one argument, since that happens to be true\n// in every case, so we don't have to touch the arguments object. The\n// only additional allocation required is the completion record, which\n// has a stable shape and so hopefully should be cheap to allocate.\n\nfunction tryCatch(fn, obj, arg) {\n  try {\n    return {\n      type: \"normal\",\n      arg: fn.call(obj, arg)\n    };\n  } catch (err) {\n    return {\n      type: \"throw\",\n      arg: err\n    };\n  }\n}\nvar GenStateSuspendedStart = \"suspendedStart\";\nvar GenStateSuspendedYield = \"suspendedYield\";\nvar GenStateExecuting = \"executing\";\nvar GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n// breaking out of the dispatch switch statement.\n\nvar ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n// .constructor.prototype properties for functions that return Generator\n// objects. For full spec compliance, you may wish to configure your\n// minifier not to mangle the names of these two functions.\n\nfunction Generator() {}\nfunction GeneratorFunction() {}\nfunction GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n// don't natively support it.\n\nvar IteratorPrototype = {};\nIteratorPrototype[iteratorSymbol] = function () {\n  return this;\n};\nvar getProto = Object.getPrototypeOf;\nvar NativeIteratorPrototype = getProto && getProto(getProto(values([])));\nif (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n  // This environment has a native %IteratorPrototype%; use it instead\n  // of the polyfill.\n  IteratorPrototype = NativeIteratorPrototype;\n}\nvar Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\nGeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\nGeneratorFunctionPrototype.constructor = GeneratorFunction;\nGeneratorFunctionPrototype[toStringTagSymbol] = GeneratorFunction.displayName = \"GeneratorFunction\"; // Helper for defining the .next, .throw, and .return methods of the\n// Iterator interface in terms of a single ._invoke method.\n\nfunction defineIteratorMethods(prototype) {\n  [\"next\", \"throw\", \"return\"].forEach(function (method) {\n    prototype[method] = function (arg) {\n      return this._invoke(method, arg);\n    };\n  });\n}\nfunction isGeneratorFunction(genFun) {\n  var ctor = typeof genFun === \"function\" && genFun.constructor;\n  return ctor ? ctor === GeneratorFunction ||\n  // For the native GeneratorFunction constructor, the best we can\n  // do is to check its .name property.\n  (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n}\nfunction mark(genFun) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n  } else {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n    if (!(toStringTagSymbol in genFun)) {\n      genFun[toStringTagSymbol] = \"GeneratorFunction\";\n    }\n  }\n  genFun.prototype = Object.create(Gp);\n  return genFun;\n}\n// `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n// `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n// meant to be awaited.\n\nfunction awrap(arg) {\n  return {\n    __await: arg\n  };\n}\nfunction AsyncIterator(generator, PromiseImpl) {\n  function invoke(method, arg, resolve, reject) {\n    var record = tryCatch(generator[method], generator, arg);\n    if (record.type === \"throw\") {\n      reject(record.arg);\n    } else {\n      var result = record.arg;\n      var value = result.value;\n      if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n        return PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        });\n      }\n      return PromiseImpl.resolve(value).then(function (unwrapped) {\n        // When a yielded Promise is resolved, its final value becomes\n        // the .value of the Promise<{value,done}> result for the\n        // current iteration.\n        result.value = unwrapped;\n        resolve(result);\n      }, function (error) {\n        // If a rejected Promise was yielded, throw the rejection back\n        // into the async generator function so it can be handled there.\n        return invoke(\"throw\", error, resolve, reject);\n      });\n    }\n  }\n  var previousPromise;\n  function enqueue(method, arg) {\n    function callInvokeWithMethodAndArg() {\n      return new PromiseImpl(function (resolve, reject) {\n        invoke(method, arg, resolve, reject);\n      });\n    }\n    return previousPromise =\n    // If enqueue has been called before, then we want to wait until\n    // all previous Promises have been resolved before calling invoke,\n    // so that results are always delivered in the correct order. If\n    // enqueue has not been called before, then it is important to\n    // call invoke immediately, without waiting on a callback to fire,\n    // so that the async generator function has the opportunity to do\n    // any necessary setup in a predictable way. This predictability\n    // is why the Promise constructor synchronously invokes its\n    // executor callback, and why async functions synchronously\n    // execute code before the first await. Since we implement simple\n    // async functions in terms of async generators, it is especially\n    // important to get this right, even though it requires care.\n    previousPromise ? previousPromise.then(callInvokeWithMethodAndArg,\n    // Avoid propagating failures to Promises returned by later\n    // invocations of the iterator.\n    callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n  } // Define the unified helper method that is used to implement .next,\n  // .throw, and .return (see defineIteratorMethods).\n\n  this._invoke = enqueue;\n}\ndefineIteratorMethods(AsyncIterator.prototype);\nAsyncIterator.prototype[asyncIteratorSymbol] = function () {\n  return this;\n}; // Note that simple async functions are implemented on top of\n// AsyncIterator objects; they just return a Promise for the value of\n// the final result produced by the iterator.\n\nfunction async(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n  if (PromiseImpl === void 0) PromiseImpl = Promise;\n  var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n  return isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n  : iter.next().then(function (result) {\n    return result.done ? result.value : iter.next();\n  });\n}\nfunction makeInvokeMethod(innerFn, self, context) {\n  var state = GenStateSuspendedStart;\n  return function invoke(method, arg) {\n    if (state === GenStateExecuting) {\n      throw new Error(\"Generator is already running\");\n    }\n    if (state === GenStateCompleted) {\n      if (method === \"throw\") {\n        throw arg;\n      } // Be forgiving, per 25.3.3.3.3 of the spec:\n      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n      return doneResult();\n    }\n    context.method = method;\n    context.arg = arg;\n    while (true) {\n      var delegate = context.delegate;\n      if (delegate) {\n        var delegateResult = maybeInvokeDelegate(delegate, context);\n        if (delegateResult) {\n          if (delegateResult === ContinueSentinel) continue;\n          return delegateResult;\n        }\n      }\n      if (context.method === \"next\") {\n        // Setting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        context.sent = context._sent = context.arg;\n      } else if (context.method === \"throw\") {\n        if (state === GenStateSuspendedStart) {\n          state = GenStateCompleted;\n          throw context.arg;\n        }\n        context.dispatchException(context.arg);\n      } else if (context.method === \"return\") {\n        context.abrupt(\"return\", context.arg);\n      }\n      state = GenStateExecuting;\n      var record = tryCatch(innerFn, self, context);\n      if (record.type === \"normal\") {\n        // If an exception is thrown from innerFn, we leave state ===\n        // GenStateExecuting and loop back for another invocation.\n        state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n        if (record.arg === ContinueSentinel) {\n          continue;\n        }\n        return {\n          value: record.arg,\n          done: context.done\n        };\n      } else if (record.type === \"throw\") {\n        state = GenStateCompleted; // Dispatch the exception by looping back around to the\n        // context.dispatchException(context.arg) call above.\n\n        context.method = \"throw\";\n        context.arg = record.arg;\n      }\n    }\n  };\n} // Call delegate.iterator[context.method](context.arg) and handle the\n// result, either by returning a { value, done } result from the\n// delegate iterator, or by modifying context.method and context.arg,\n// setting context.delegate to null, and returning the ContinueSentinel.\n\nfunction maybeInvokeDelegate(delegate, context) {\n  var method = delegate.iterator[context.method];\n  if (method === undefined$1) {\n    // A .throw or .return when the delegate iterator has no .throw\n    // method always terminates the yield* loop.\n    context.delegate = null;\n    if (context.method === \"throw\") {\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined$1;\n        maybeInvokeDelegate(delegate, context);\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      context.method = \"throw\";\n      context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n    }\n    return ContinueSentinel;\n  }\n  var record = tryCatch(method, delegate.iterator, context.arg);\n  if (record.type === \"throw\") {\n    context.method = \"throw\";\n    context.arg = record.arg;\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n  var info = record.arg;\n  if (!info) {\n    context.method = \"throw\";\n    context.arg = new TypeError(\"iterator result is not an object\");\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n  if (info.done) {\n    // Assign the result of the finished delegate to the temporary\n    // variable specified by delegate.resultName (see delegateYield).\n    context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n    context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n    // exception, let the outer generator proceed normally. If\n    // context.method was \"next\", forget context.arg since it has been\n    // \"consumed\" by the delegate iterator. If context.method was\n    // \"return\", allow the original .return call to continue in the\n    // outer generator.\n\n    if (context.method !== \"return\") {\n      context.method = \"next\";\n      context.arg = undefined$1;\n    }\n  } else {\n    // Re-yield the result returned by the delegate method.\n    return info;\n  } // The delegate iterator is finished, so forget it and continue with\n  // the outer generator.\n\n  context.delegate = null;\n  return ContinueSentinel;\n} // Define Generator.prototype.{next,throw,return} in terms of the\n// unified ._invoke helper method.\n\ndefineIteratorMethods(Gp);\nGp[toStringTagSymbol] = \"Generator\"; // A Generator should always return itself as the iterator object when the\n// @@iterator function is called on it. Some browsers' implementations of the\n// iterator prototype chain incorrectly implement this, causing the Generator\n// object to not be returned from this call. This ensures that doesn't happen.\n// See https://github.com/facebook/regenerator/issues/274 for more details.\n\nGp[iteratorSymbol] = function () {\n  return this;\n};\nGp.toString = function () {\n  return \"[object Generator]\";\n};\nfunction pushTryEntry(locs) {\n  var entry = {\n    tryLoc: locs[0]\n  };\n  if (1 in locs) {\n    entry.catchLoc = locs[1];\n  }\n  if (2 in locs) {\n    entry.finallyLoc = locs[2];\n    entry.afterLoc = locs[3];\n  }\n  this.tryEntries.push(entry);\n}\nfunction resetTryEntry(entry) {\n  var record = entry.completion || {};\n  record.type = \"normal\";\n  delete record.arg;\n  entry.completion = record;\n}\nfunction Context(tryLocsList) {\n  // The root entry object (effectively a try statement without a catch\n  // or a finally block) gives us a place to store values thrown from\n  // locations where there is no enclosing try statement.\n  this.tryEntries = [{\n    tryLoc: \"root\"\n  }];\n  tryLocsList.forEach(pushTryEntry, this);\n  this.reset(true);\n}\nfunction keys(object) {\n  var keys = [];\n  for (var key in object) {\n    keys.push(key);\n  }\n  keys.reverse(); // Rather than returning an object with a next method, we keep\n  // things simple and return the next function itself.\n\n  return function next() {\n    while (keys.length) {\n      var key = keys.pop();\n      if (key in object) {\n        next.value = key;\n        next.done = false;\n        return next;\n      }\n    } // To avoid creating an additional object, we just hang the .value\n    // and .done properties off the next function object itself. This\n    // also ensures that the minifier will not anonymize the function.\n\n    next.done = true;\n    return next;\n  };\n}\nfunction values(iterable) {\n  if (iterable) {\n    var iteratorMethod = iterable[iteratorSymbol];\n    if (iteratorMethod) {\n      return iteratorMethod.call(iterable);\n    }\n    if (typeof iterable.next === \"function\") {\n      return iterable;\n    }\n    if (!isNaN(iterable.length)) {\n      var i = -1,\n        next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n          next.value = undefined$1;\n          next.done = true;\n          return next;\n        };\n      return next.next = next;\n    }\n  } // Return an iterator with no values.\n\n  return {\n    next: doneResult\n  };\n}\nfunction doneResult() {\n  return {\n    value: undefined$1,\n    done: true\n  };\n}\nContext.prototype = {\n  constructor: Context,\n  reset: function reset(skipTempReset) {\n    this.prev = 0;\n    this.next = 0; // Resetting context._sent for legacy support of Babel's\n    // function.sent implementation.\n\n    this.sent = this._sent = undefined$1;\n    this.done = false;\n    this.delegate = null;\n    this.method = \"next\";\n    this.arg = undefined$1;\n    this.tryEntries.forEach(resetTryEntry);\n    if (!skipTempReset) {\n      for (var name in this) {\n        // Not sure about the optimal order of these conditions:\n        if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n          this[name] = undefined$1;\n        }\n      }\n    }\n  },\n  stop: function stop() {\n    this.done = true;\n    var rootEntry = this.tryEntries[0];\n    var rootRecord = rootEntry.completion;\n    if (rootRecord.type === \"throw\") {\n      throw rootRecord.arg;\n    }\n    return this.rval;\n  },\n  dispatchException: function dispatchException(exception) {\n    if (this.done) {\n      throw exception;\n    }\n    var context = this;\n    function handle(loc, caught) {\n      record.type = \"throw\";\n      record.arg = exception;\n      context.next = loc;\n      if (caught) {\n        // If the dispatched exception was caught by a catch block,\n        // then let that catch block handle the exception normally.\n        context.method = \"next\";\n        context.arg = undefined$1;\n      }\n      return !!caught;\n    }\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      var record = entry.completion;\n      if (entry.tryLoc === \"root\") {\n        // Exception thrown outside of any try block that could handle\n        // it, so set the completion value of the entire function to\n        // throw the exception.\n        return handle(\"end\");\n      }\n      if (entry.tryLoc <= this.prev) {\n        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n        if (hasCatch && hasFinally) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          } else if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n        } else if (hasCatch) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          }\n        } else if (hasFinally) {\n          if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n        } else {\n          throw new Error(\"try statement without catch or finally\");\n        }\n      }\n    }\n  },\n  abrupt: function abrupt(type, arg) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n        var finallyEntry = entry;\n        break;\n      }\n    }\n    if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n      // Ignore the finally entry if control is not jumping to a\n      // location outside the try/catch block.\n      finallyEntry = null;\n    }\n    var record = finallyEntry ? finallyEntry.completion : {};\n    record.type = type;\n    record.arg = arg;\n    if (finallyEntry) {\n      this.method = \"next\";\n      this.next = finallyEntry.finallyLoc;\n      return ContinueSentinel;\n    }\n    return this.complete(record);\n  },\n  complete: function complete(record, afterLoc) {\n    if (record.type === \"throw\") {\n      throw record.arg;\n    }\n    if (record.type === \"break\" || record.type === \"continue\") {\n      this.next = record.arg;\n    } else if (record.type === \"return\") {\n      this.rval = this.arg = record.arg;\n      this.method = \"return\";\n      this.next = \"end\";\n    } else if (record.type === \"normal\" && afterLoc) {\n      this.next = afterLoc;\n    }\n    return ContinueSentinel;\n  },\n  finish: function finish(finallyLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.finallyLoc === finallyLoc) {\n        this.complete(entry.completion, entry.afterLoc);\n        resetTryEntry(entry);\n        return ContinueSentinel;\n      }\n    }\n  },\n  \"catch\": function _catch(tryLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc === tryLoc) {\n        var record = entry.completion;\n        if (record.type === \"throw\") {\n          var thrown = record.arg;\n          resetTryEntry(entry);\n        }\n        return thrown;\n      }\n    } // The context.catch method must only be called with a location\n    // argument that corresponds to a known catch block.\n\n    throw new Error(\"illegal catch attempt\");\n  },\n  delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n    this.delegate = {\n      iterator: values(iterable),\n      resultName: resultName,\n      nextLoc: nextLoc\n    };\n    if (this.method === \"next\") {\n      // Deliberately forget the last sent value so that we don't\n      // accidentally pass it on to the delegate.\n      this.arg = undefined$1;\n    }\n    return ContinueSentinel;\n  }\n}; // Export a default namespace that plays well with Rollup\n\nvar _regeneratorRuntime = {\n  wrap: wrap,\n  isGeneratorFunction: isGeneratorFunction,\n  AsyncIterator: AsyncIterator,\n  mark: mark,\n  awrap: awrap,\n  async: async,\n  keys: keys,\n  values: values\n};\nvar yallist = Yallist$1;\nYallist$1.Node = Node;\nYallist$1.create = Yallist$1;\nfunction Yallist$1(list) {\n  var self = this;\n  if (!(self instanceof Yallist$1)) {\n    self = new Yallist$1();\n  }\n  self.tail = null;\n  self.head = null;\n  self.length = 0;\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item);\n    });\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i]);\n    }\n  }\n  return self;\n}\nYallist$1.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list');\n  }\n  var next = node.next;\n  var prev = node.prev;\n  if (next) {\n    next.prev = prev;\n  }\n  if (prev) {\n    prev.next = next;\n  }\n  if (node === this.head) {\n    this.head = next;\n  }\n  if (node === this.tail) {\n    this.tail = prev;\n  }\n  node.list.length--;\n  node.next = null;\n  node.prev = null;\n  node.list = null;\n  return next;\n};\nYallist$1.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return;\n  }\n  if (node.list) {\n    node.list.removeNode(node);\n  }\n  var head = this.head;\n  node.list = this;\n  node.next = head;\n  if (head) {\n    head.prev = node;\n  }\n  this.head = node;\n  if (!this.tail) {\n    this.tail = node;\n  }\n  this.length++;\n};\nYallist$1.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return;\n  }\n  if (node.list) {\n    node.list.removeNode(node);\n  }\n  var tail = this.tail;\n  node.list = this;\n  node.prev = tail;\n  if (tail) {\n    tail.next = node;\n  }\n  this.tail = node;\n  if (!this.head) {\n    this.head = node;\n  }\n  this.length++;\n};\nYallist$1.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i]);\n  }\n  return this.length;\n};\nYallist$1.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i]);\n  }\n  return this.length;\n};\nYallist$1.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined;\n  }\n  var res = this.tail.value;\n  this.tail = this.tail.prev;\n  if (this.tail) {\n    this.tail.next = null;\n  } else {\n    this.head = null;\n  }\n  this.length--;\n  return res;\n};\nYallist$1.prototype.shift = function () {\n  if (!this.head) {\n    return undefined;\n  }\n  var res = this.head.value;\n  this.head = this.head.next;\n  if (this.head) {\n    this.head.prev = null;\n  } else {\n    this.tail = null;\n  }\n  this.length--;\n  return res;\n};\nYallist$1.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this;\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this);\n    walker = walker.next;\n  }\n};\nYallist$1.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this;\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this);\n    walker = walker.prev;\n  }\n};\nYallist$1.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next;\n  }\n  if (i === n && walker !== null) {\n    return walker.value;\n  }\n};\nYallist$1.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev;\n  }\n  if (i === n && walker !== null) {\n    return walker.value;\n  }\n};\nYallist$1.prototype.map = function (fn, thisp) {\n  thisp = thisp || this;\n  var res = new Yallist$1();\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this));\n    walker = walker.next;\n  }\n  return res;\n};\nYallist$1.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this;\n  var res = new Yallist$1();\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this));\n    walker = walker.prev;\n  }\n  return res;\n};\nYallist$1.prototype.reduce = function (fn, initial) {\n  var acc;\n  var walker = this.head;\n  if (arguments.length > 1) {\n    acc = initial;\n  } else if (this.head) {\n    walker = this.head.next;\n    acc = this.head.value;\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value');\n  }\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i);\n    walker = walker.next;\n  }\n  return acc;\n};\nYallist$1.prototype.reduceReverse = function (fn, initial) {\n  var acc;\n  var walker = this.tail;\n  if (arguments.length > 1) {\n    acc = initial;\n  } else if (this.tail) {\n    walker = this.tail.prev;\n    acc = this.tail.value;\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value');\n  }\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i);\n    walker = walker.prev;\n  }\n  return acc;\n};\nYallist$1.prototype.toArray = function () {\n  var arr = new Array(this.length);\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value;\n    walker = walker.next;\n  }\n  return arr;\n};\nYallist$1.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length);\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value;\n    walker = walker.prev;\n  }\n  return arr;\n};\nYallist$1.prototype.slice = function (from, to) {\n  to = to || this.length;\n  if (to < 0) {\n    to += this.length;\n  }\n  from = from || 0;\n  if (from < 0) {\n    from += this.length;\n  }\n  var ret = new Yallist$1();\n  if (to < from || to < 0) {\n    return ret;\n  }\n  if (from < 0) {\n    from = 0;\n  }\n  if (to > this.length) {\n    to = this.length;\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next;\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value);\n  }\n  return ret;\n};\nYallist$1.prototype.sliceReverse = function (from, to) {\n  to = to || this.length;\n  if (to < 0) {\n    to += this.length;\n  }\n  from = from || 0;\n  if (from < 0) {\n    from += this.length;\n  }\n  var ret = new Yallist$1();\n  if (to < from || to < 0) {\n    return ret;\n  }\n  if (from < 0) {\n    from = 0;\n  }\n  if (to > this.length) {\n    to = this.length;\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev;\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value);\n  }\n  return ret;\n};\nYallist$1.prototype.splice = function (start, deleteCount) {\n  if (start > this.length) {\n    start = this.length - 1;\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next;\n  }\n  var ret = [];\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value);\n    walker = this.removeNode(walker);\n  }\n  if (walker === null) {\n    walker = this.tail;\n  }\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev;\n  }\n  for (var i = 0; i < (arguments.length <= 2 ? 0 : arguments.length - 2); i++) {\n    walker = insert(this, walker, i + 2 < 2 || arguments.length <= i + 2 ? undefined : arguments[i + 2]);\n  }\n  return ret;\n};\nYallist$1.prototype.reverse = function () {\n  var head = this.head;\n  var tail = this.tail;\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev;\n    walker.prev = walker.next;\n    walker.next = p;\n  }\n  this.head = tail;\n  this.tail = head;\n  return this;\n};\nfunction insert(self, node, value) {\n  var inserted = node === self.head ? new Node(value, null, node, self) : new Node(value, node, node.next, self);\n  if (inserted.next === null) {\n    self.tail = inserted;\n  }\n  if (inserted.prev === null) {\n    self.head = inserted;\n  }\n  self.length++;\n  return inserted;\n}\nfunction push(self, item) {\n  self.tail = new Node(item, self.tail, null, self);\n  if (!self.head) {\n    self.head = self.tail;\n  }\n  self.length++;\n}\nfunction unshift(self, item) {\n  self.head = new Node(item, null, self.head, self);\n  if (!self.tail) {\n    self.tail = self.head;\n  }\n  self.length++;\n}\nfunction Node(value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list);\n  }\n  this.list = list;\n  this.value = value;\n  if (prev) {\n    prev.next = this;\n    this.prev = prev;\n  } else {\n    this.prev = null;\n  }\n  if (next) {\n    next.prev = this;\n    this.next = next;\n  } else {\n    this.next = null;\n  }\n}\ntry {\n  // add if support for Symbol.iterator is present\n  Yallist$1.prototype[Symbol.iterator] = /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var walker;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            walker = this.head;\n          case 1:\n            if (!walker) {\n              _context.next = 7;\n              break;\n            }\n            _context.next = 4;\n            return walker.value;\n          case 4:\n            walker = walker.next;\n            _context.next = 1;\n            break;\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  });\n} catch (er) {}\nvar Yallist = yallist;\nvar MAX = Symbol('max');\nvar LENGTH = Symbol('length');\nvar LENGTH_CALCULATOR = Symbol('lengthCalculator');\nvar ALLOW_STALE = Symbol('allowStale');\nvar MAX_AGE = Symbol('maxAge');\nvar DISPOSE = Symbol('dispose');\nvar NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet');\nvar LRU_LIST = Symbol('lruList');\nvar CACHE = Symbol('cache');\nvar UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet');\nvar naiveLength = function naiveLength() {\n  return 1;\n}; // lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nvar LRUCache = /*#__PURE__*/function () {\n  function LRUCache(options) {\n    _classCallCheck(this, LRUCache);\n    if (typeof options === 'number') options = {\n      max: options\n    };\n    if (!options) options = {};\n    if (options.max && (typeof options.max !== 'number' || options.max < 0)) throw new TypeError('max must be a non-negative number'); // Kind of weird to have a default max of Infinity, but oh well.\n\n    this[MAX] = options.max || Infinity;\n    var lc = options.length || naiveLength;\n    this[LENGTH_CALCULATOR] = typeof lc !== 'function' ? naiveLength : lc;\n    this[ALLOW_STALE] = options.stale || false;\n    if (options.maxAge && typeof options.maxAge !== 'number') throw new TypeError('maxAge must be a number');\n    this[MAX_AGE] = options.maxAge || 0;\n    this[DISPOSE] = options.dispose;\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false;\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false;\n    this.reset();\n  } // resize the cache when the max changes.\n  _createClass(LRUCache, [{\n    key: \"max\",\n    get: function get() {\n      return this[MAX];\n    },\n    set: function set(mL) {\n      if (typeof mL !== 'number' || mL < 0) throw new TypeError('max must be a non-negative number');\n      this[MAX] = mL || Infinity;\n      trim(this);\n    }\n  }, {\n    key: \"allowStale\",\n    get: function get() {\n      return this[ALLOW_STALE];\n    },\n    set: function set(allowStale) {\n      this[ALLOW_STALE] = !!allowStale;\n    }\n  }, {\n    key: \"maxAge\",\n    get: function get() {\n      return this[MAX_AGE];\n    } // resize the cache when the lengthCalculator changes.\n    ,\n    set: function set(mA) {\n      if (typeof mA !== 'number') throw new TypeError('maxAge must be a non-negative number');\n      this[MAX_AGE] = mA;\n      trim(this);\n    }\n  }, {\n    key: \"lengthCalculator\",\n    get: function get() {\n      return this[LENGTH_CALCULATOR];\n    },\n    set: function set(lC) {\n      var _this = this;\n      if (typeof lC !== 'function') lC = naiveLength;\n      if (lC !== this[LENGTH_CALCULATOR]) {\n        this[LENGTH_CALCULATOR] = lC;\n        this[LENGTH] = 0;\n        this[LRU_LIST].forEach(function (hit) {\n          hit.length = _this[LENGTH_CALCULATOR](hit.value, hit.key);\n          _this[LENGTH] += hit.length;\n        });\n      }\n      trim(this);\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this[LENGTH];\n    }\n  }, {\n    key: \"itemCount\",\n    get: function get() {\n      return this[LRU_LIST].length;\n    }\n  }, {\n    key: \"rforEach\",\n    value: function rforEach(fn, thisp) {\n      thisp = thisp || this;\n      for (var walker = this[LRU_LIST].tail; walker !== null;) {\n        var prev = walker.prev;\n        forEachStep(this, fn, walker, thisp);\n        walker = prev;\n      }\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn, thisp) {\n      thisp = thisp || this;\n      for (var walker = this[LRU_LIST].head; walker !== null;) {\n        var next = walker.next;\n        forEachStep(this, fn, walker, thisp);\n        walker = next;\n      }\n    }\n  }, {\n    key: \"keys\",\n    value: function keys() {\n      return this[LRU_LIST].toArray().map(function (k) {\n        return k.key;\n      });\n    }\n  }, {\n    key: \"values\",\n    value: function values() {\n      return this[LRU_LIST].toArray().map(function (k) {\n        return k.value;\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this2 = this;\n      if (this[DISPOSE] && this[LRU_LIST] && this[LRU_LIST].length) {\n        this[LRU_LIST].forEach(function (hit) {\n          return _this2[DISPOSE](hit.key, hit.value);\n        });\n      }\n      this[CACHE] = new Map(); // hash of items by key\n\n      this[LRU_LIST] = new Yallist(); // list of items in order of use recency\n\n      this[LENGTH] = 0; // length of items in the list\n    }\n  }, {\n    key: \"dump\",\n    value: function dump() {\n      var _this3 = this;\n      return this[LRU_LIST].map(function (hit) {\n        return isStale(_this3, hit) ? false : {\n          k: hit.key,\n          v: hit.value,\n          e: hit.now + (hit.maxAge || 0)\n        };\n      }).toArray().filter(function (h) {\n        return h;\n      });\n    }\n  }, {\n    key: \"dumpLru\",\n    value: function dumpLru() {\n      return this[LRU_LIST];\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value, maxAge) {\n      maxAge = maxAge || this[MAX_AGE];\n      if (maxAge && typeof maxAge !== 'number') throw new TypeError('maxAge must be a number');\n      var now = maxAge ? Date.now() : 0;\n      var len = this[LENGTH_CALCULATOR](value, key);\n      if (this[CACHE].has(key)) {\n        if (len > this[MAX]) {\n          _del(this, this[CACHE].get(key));\n          return false;\n        }\n        var node = this[CACHE].get(key);\n        var item = node.value; // dispose of the old one before overwriting\n        // split out into 2 ifs for better coverage tracking\n\n        if (this[DISPOSE]) {\n          if (!this[NO_DISPOSE_ON_SET]) this[DISPOSE](key, item.value);\n        }\n        item.now = now;\n        item.maxAge = maxAge;\n        item.value = value;\n        this[LENGTH] += len - item.length;\n        item.length = len;\n        this.get(key);\n        trim(this);\n        return true;\n      }\n      var hit = new Entry(key, value, len, now, maxAge); // oversized objects fall out of cache automatically.\n\n      if (hit.length > this[MAX]) {\n        if (this[DISPOSE]) this[DISPOSE](key, value);\n        return false;\n      }\n      this[LENGTH] += hit.length;\n      this[LRU_LIST].unshift(hit);\n      this[CACHE].set(key, this[LRU_LIST].head);\n      trim(this);\n      return true;\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      if (!this[CACHE].has(key)) return false;\n      var hit = this[CACHE].get(key).value;\n      return !isStale(this, hit);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      return _get(this, key, true);\n    }\n  }, {\n    key: \"peek\",\n    value: function peek(key) {\n      return _get(this, key, false);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      var node = this[LRU_LIST].tail;\n      if (!node) return null;\n      _del(this, node);\n      return node.value;\n    }\n  }, {\n    key: \"del\",\n    value: function del(key) {\n      _del(this, this[CACHE].get(key));\n    }\n  }, {\n    key: \"load\",\n    value: function load(arr) {\n      // reset the cache\n      this.reset();\n      var now = Date.now(); // A previous serialized cache has the most recent items first\n\n      for (var l = arr.length - 1; l >= 0; l--) {\n        var hit = arr[l];\n        var expiresAt = hit.e || 0;\n        if (expiresAt === 0)\n          // the item was created without expiration in a non aged cache\n          this.set(hit.k, hit.v);else {\n          var maxAge = expiresAt - now; // dont add already expired items\n\n          if (maxAge > 0) {\n            this.set(hit.k, hit.v, maxAge);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"prune\",\n    value: function prune() {\n      var _this4 = this;\n      this[CACHE].forEach(function (value, key) {\n        return _get(_this4, key, false);\n      });\n    }\n  }]);\n  return LRUCache;\n}();\nvar _get = function _get(self, key, doUse) {\n  var node = self[CACHE].get(key);\n  if (node) {\n    var hit = node.value;\n    if (isStale(self, hit)) {\n      _del(self, node);\n      if (!self[ALLOW_STALE]) return undefined;\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET]) node.value.now = Date.now();\n        self[LRU_LIST].unshiftNode(node);\n      }\n    }\n    return hit.value;\n  }\n};\nvar isStale = function isStale(self, hit) {\n  if (!hit || !hit.maxAge && !self[MAX_AGE]) return false;\n  var diff = Date.now() - hit.now;\n  return hit.maxAge ? diff > hit.maxAge : self[MAX_AGE] && diff > self[MAX_AGE];\n};\nvar trim = function trim(self) {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail; self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev;\n      _del(self, walker);\n      walker = prev;\n    }\n  }\n};\nvar _del = function _del(self, node) {\n  if (node) {\n    var hit = node.value;\n    if (self[DISPOSE]) self[DISPOSE](hit.key, hit.value);\n    self[LENGTH] -= hit.length;\n    self[CACHE].delete(hit.key);\n    self[LRU_LIST].removeNode(node);\n  }\n};\nvar Entry = /*#__PURE__*/_createClass(function Entry(key, value, length, now, maxAge) {\n  _classCallCheck(this, Entry);\n  this.key = key;\n  this.value = value;\n  this.length = length;\n  this.now = now;\n  this.maxAge = maxAge || 0;\n});\nvar forEachStep = function forEachStep(self, fn, node, thisp) {\n  var hit = node.value;\n  if (isStale(self, hit)) {\n    _del(self, node);\n    if (!self[ALLOW_STALE]) hit = undefined;\n  }\n  if (hit) fn.call(thisp, hit.value, hit.key, self);\n};\nvar lruCache = LRUCache;\n\n// obj with keys in a consistent order.\n\nvar opts = ['includePrerelease', 'loose', 'rtl'];\nvar parseOptions$1 = function parseOptions$1(options) {\n  return !options ? {} : typeof options !== 'object' ? {\n    loose: true\n  } : opts.filter(function (k) {\n    return options[k];\n  }).reduce(function (o, k) {\n    o[k] = true;\n    return o;\n  }, {});\n};\nvar parseOptions_1 = parseOptions$1;\nvar re$1 = {\n  exports: {}\n};\n\n// Not necessarily the package version of this code.\n\nvar SEMVER_SPEC_VERSION = '2.0.0';\nvar MAX_LENGTH$1 = 256;\nvar MAX_SAFE_INTEGER$1 = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */\n9007199254740991; // Max safe segment length for coercion.\n\nvar MAX_SAFE_COMPONENT_LENGTH = 16;\nvar constants = {\n  SEMVER_SPEC_VERSION: SEMVER_SPEC_VERSION,\n  MAX_LENGTH: MAX_LENGTH$1,\n  MAX_SAFE_INTEGER: MAX_SAFE_INTEGER$1,\n  MAX_SAFE_COMPONENT_LENGTH: MAX_SAFE_COMPONENT_LENGTH\n};\nvar debug$1 = typeof process === 'object' && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? function () {\n  var _console;\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return (_console = console).error.apply(_console, ['SEMVER'].concat(args));\n} : function () {};\nvar debug_1 = debug$1;\n(function (module, exports) {\n  var MAX_SAFE_COMPONENT_LENGTH = constants.MAX_SAFE_COMPONENT_LENGTH;\n  var debug = debug_1;\n  exports = module.exports = {}; // The actual regexps go on exports.re\n\n  var re = exports.re = [];\n  var src = exports.src = [];\n  var t = exports.t = {};\n  var R = 0;\n  var createToken = function createToken(name, value, isGlobal) {\n    var index = R++;\n    debug(name, index, value);\n    t[name] = index;\n    src[index] = value;\n    re[index] = new RegExp(value, isGlobal ? 'g' : undefined);\n  }; // The following Regular Expressions can be used for tokenizing,\n  // validating, and parsing SemVer version strings.\n  // ## Numeric Identifier\n  // A single `0`, or a non-zero digit followed by zero or more digits.\n\n  createToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*');\n  createToken('NUMERICIDENTIFIERLOOSE', '[0-9]+'); // ## Non-numeric Identifier\n  // Zero or more digits, followed by a letter or hyphen, and then zero or\n  // more letters, digits, or hyphens.\n\n  createToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'); // ## Main Version\n  // Three dot-separated numeric identifiers.\n\n  createToken('MAINVERSION', \"(\".concat(src[t.NUMERICIDENTIFIER], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIER], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIER], \")\"));\n  createToken('MAINVERSIONLOOSE', \"(\".concat(src[t.NUMERICIDENTIFIERLOOSE], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIERLOOSE], \")\\\\.\") + \"(\".concat(src[t.NUMERICIDENTIFIERLOOSE], \")\")); // ## Pre-release Version Identifier\n  // A numeric identifier, or a non-numeric identifier.\n\n  createToken('PRERELEASEIDENTIFIER', \"(?:\".concat(src[t.NUMERICIDENTIFIER], \"|\").concat(src[t.NONNUMERICIDENTIFIER], \")\"));\n  createToken('PRERELEASEIDENTIFIERLOOSE', \"(?:\".concat(src[t.NUMERICIDENTIFIERLOOSE], \"|\").concat(src[t.NONNUMERICIDENTIFIER], \")\")); // ## Pre-release Version\n  // Hyphen, followed by one or more dot-separated pre-release version\n  // identifiers.\n\n  createToken('PRERELEASE', \"(?:-(\".concat(src[t.PRERELEASEIDENTIFIER], \"(?:\\\\.\").concat(src[t.PRERELEASEIDENTIFIER], \")*))\"));\n  createToken('PRERELEASELOOSE', \"(?:-?(\".concat(src[t.PRERELEASEIDENTIFIERLOOSE], \"(?:\\\\.\").concat(src[t.PRERELEASEIDENTIFIERLOOSE], \")*))\")); // ## Build Metadata Identifier\n  // Any combination of digits, letters, or hyphens.\n\n  createToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+'); // ## Build Metadata\n  // Plus sign, followed by one or more period-separated build metadata\n  // identifiers.\n\n  createToken('BUILD', \"(?:\\\\+(\".concat(src[t.BUILDIDENTIFIER], \"(?:\\\\.\").concat(src[t.BUILDIDENTIFIER], \")*))\")); // ## Full Version String\n  // A main version, followed optionally by a pre-release version and\n  // build metadata.\n  // Note that the only major, minor, patch, and pre-release sections of\n  // the version string are capturing groups.  The build metadata is not a\n  // capturing group, because it should not ever be used in version\n  // comparison.\n\n  createToken('FULLPLAIN', \"v?\".concat(src[t.MAINVERSION]).concat(src[t.PRERELEASE], \"?\").concat(src[t.BUILD], \"?\"));\n  createToken('FULL', \"^\".concat(src[t.FULLPLAIN], \"$\")); // like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n  // also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n  // common in the npm registry.\n\n  createToken('LOOSEPLAIN', \"[v=\\\\s]*\".concat(src[t.MAINVERSIONLOOSE]).concat(src[t.PRERELEASELOOSE], \"?\").concat(src[t.BUILD], \"?\"));\n  createToken('LOOSE', \"^\".concat(src[t.LOOSEPLAIN], \"$\"));\n  createToken('GTLT', '((?:<|>)?=?)'); // Something like \"2.*\" or \"1.2.x\".\n  // Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n  // Only the first item is strictly required.\n\n  createToken('XRANGEIDENTIFIERLOOSE', \"\".concat(src[t.NUMERICIDENTIFIERLOOSE], \"|x|X|\\\\*\"));\n  createToken('XRANGEIDENTIFIER', \"\".concat(src[t.NUMERICIDENTIFIER], \"|x|X|\\\\*\"));\n  createToken('XRANGEPLAIN', \"[v=\\\\s]*(\".concat(src[t.XRANGEIDENTIFIER], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIER], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIER], \")\") + \"(?:\".concat(src[t.PRERELEASE], \")?\").concat(src[t.BUILD], \"?\") + \")?)?\");\n  createToken('XRANGEPLAINLOOSE', \"[v=\\\\s]*(\".concat(src[t.XRANGEIDENTIFIERLOOSE], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIERLOOSE], \")\") + \"(?:\\\\.(\".concat(src[t.XRANGEIDENTIFIERLOOSE], \")\") + \"(?:\".concat(src[t.PRERELEASELOOSE], \")?\").concat(src[t.BUILD], \"?\") + \")?)?\");\n  createToken('XRANGE', \"^\".concat(src[t.GTLT], \"\\\\s*\").concat(src[t.XRANGEPLAIN], \"$\"));\n  createToken('XRANGELOOSE', \"^\".concat(src[t.GTLT], \"\\\\s*\").concat(src[t.XRANGEPLAINLOOSE], \"$\")); // Coercion.\n  // Extract anything that could conceivably be a part of a valid semver\n\n  createToken('COERCE', \"\".concat('(^|[^\\\\d])' + '(\\\\d{1,').concat(MAX_SAFE_COMPONENT_LENGTH, \"})\") + \"(?:\\\\.(\\\\d{1,\".concat(MAX_SAFE_COMPONENT_LENGTH, \"}))?\") + \"(?:\\\\.(\\\\d{1,\".concat(MAX_SAFE_COMPONENT_LENGTH, \"}))?\") + \"(?:$|[^\\\\d])\");\n  createToken('COERCERTL', src[t.COERCE], true); // Tilde ranges.\n  // Meaning is \"reasonably at or greater than\"\n\n  createToken('LONETILDE', '(?:~>?)');\n  createToken('TILDETRIM', \"(\\\\s*)\".concat(src[t.LONETILDE], \"\\\\s+\"), true);\n  exports.tildeTrimReplace = '$1~';\n  createToken('TILDE', \"^\".concat(src[t.LONETILDE]).concat(src[t.XRANGEPLAIN], \"$\"));\n  createToken('TILDELOOSE', \"^\".concat(src[t.LONETILDE]).concat(src[t.XRANGEPLAINLOOSE], \"$\")); // Caret ranges.\n  // Meaning is \"at least and backwards compatible with\"\n\n  createToken('LONECARET', '(?:\\\\^)');\n  createToken('CARETTRIM', \"(\\\\s*)\".concat(src[t.LONECARET], \"\\\\s+\"), true);\n  exports.caretTrimReplace = '$1^';\n  createToken('CARET', \"^\".concat(src[t.LONECARET]).concat(src[t.XRANGEPLAIN], \"$\"));\n  createToken('CARETLOOSE', \"^\".concat(src[t.LONECARET]).concat(src[t.XRANGEPLAINLOOSE], \"$\")); // A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\n\n  createToken('COMPARATORLOOSE', \"^\".concat(src[t.GTLT], \"\\\\s*(\").concat(src[t.LOOSEPLAIN], \")$|^$\"));\n  createToken('COMPARATOR', \"^\".concat(src[t.GTLT], \"\\\\s*(\").concat(src[t.FULLPLAIN], \")$|^$\")); // An expression to strip any whitespace between the gtlt and the thing\n  // it modifies, so that `> 1.2.3` ==> `>1.2.3`\n\n  createToken('COMPARATORTRIM', \"(\\\\s*)\".concat(src[t.GTLT], \"\\\\s*(\").concat(src[t.LOOSEPLAIN], \"|\").concat(src[t.XRANGEPLAIN], \")\"), true);\n  exports.comparatorTrimReplace = '$1$2$3'; // Something like `1.2.3 - 1.2.4`\n  // Note that these all use the loose form, because they'll be\n  // checked against either the strict or loose comparator form\n  // later.\n\n  createToken('HYPHENRANGE', \"^\\\\s*(\".concat(src[t.XRANGEPLAIN], \")\") + \"\\\\s+-\\\\s+\" + \"(\".concat(src[t.XRANGEPLAIN], \")\") + \"\\\\s*$\");\n  createToken('HYPHENRANGELOOSE', \"^\\\\s*(\".concat(src[t.XRANGEPLAINLOOSE], \")\") + \"\\\\s+-\\\\s+\" + \"(\".concat(src[t.XRANGEPLAINLOOSE], \")\") + \"\\\\s*$\"); // Star ranges basically just allow anything at all.\n\n  createToken('STAR', '(<|>)?=?\\\\s*\\\\*'); // >=0.0.0 is like a star\n\n  createToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$');\n  createToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$');\n})(re$1, re$1.exports);\nvar numeric = /^[0-9]+$/;\nvar compareIdentifiers$1 = function compareIdentifiers$1(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n  return a === b ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a < b ? -1 : 1;\n};\nvar rcompareIdentifiers = function rcompareIdentifiers(a, b) {\n  return compareIdentifiers$1(b, a);\n};\nvar identifiers = {\n  compareIdentifiers: compareIdentifiers$1,\n  rcompareIdentifiers: rcompareIdentifiers\n};\nvar debug = debug_1;\nvar MAX_LENGTH = constants.MAX_LENGTH,\n  MAX_SAFE_INTEGER = constants.MAX_SAFE_INTEGER;\nvar re = re$1.exports.re,\n  t = re$1.exports.t;\nvar parseOptions = parseOptions_1;\nvar compareIdentifiers = identifiers.compareIdentifiers;\nvar SemVer$1 = /*#__PURE__*/function () {\n  function SemVer$1(version, options) {\n    _classCallCheck(this, SemVer$1);\n    options = parseOptions(options);\n    if (version instanceof SemVer$1) {\n      if (version.loose === !!options.loose && version.includePrerelease === !!options.includePrerelease) {\n        return version;\n      } else {\n        version = version.version;\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(\"Invalid Version: \".concat(version));\n    }\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\"version is longer than \".concat(MAX_LENGTH, \" characters\"));\n    }\n    debug('SemVer', version, options);\n    this.options = options;\n    this.loose = !!options.loose; // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n\n    this.includePrerelease = !!options.includePrerelease;\n    var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL]);\n    if (!m) {\n      throw new TypeError(\"Invalid Version: \".concat(version));\n    }\n    this.raw = version; // these are actually numbers\n\n    this.major = +m[1];\n    this.minor = +m[2];\n    this.patch = +m[3];\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version');\n    }\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version');\n    }\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version');\n    } // numberify any prerelease numeric ids\n\n    if (!m[4]) {\n      this.prerelease = [];\n    } else {\n      this.prerelease = m[4].split('.').map(function (id) {\n        if (/^[0-9]+$/.test(id)) {\n          var num = +id;\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num;\n          }\n        }\n        return id;\n      });\n    }\n    this.build = m[5] ? m[5].split('.') : [];\n    this.format();\n  }\n  _createClass(SemVer$1, [{\n    key: \"format\",\n    value: function format() {\n      this.version = \"\".concat(this.major, \".\").concat(this.minor, \".\").concat(this.patch);\n      if (this.prerelease.length) {\n        this.version += \"-\".concat(this.prerelease.join('.'));\n      }\n      return this.version;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this.version;\n    }\n  }, {\n    key: \"compare\",\n    value: function compare(other) {\n      debug('SemVer.compare', this.version, this.options, other);\n      if (!(other instanceof SemVer$1)) {\n        if (typeof other === 'string' && other === this.version) {\n          return 0;\n        }\n        other = new SemVer$1(other, this.options);\n      }\n      if (other.version === this.version) {\n        return 0;\n      }\n      return this.compareMain(other) || this.comparePre(other);\n    }\n  }, {\n    key: \"compareMain\",\n    value: function compareMain(other) {\n      if (!(other instanceof SemVer$1)) {\n        other = new SemVer$1(other, this.options);\n      }\n      return compareIdentifiers(this.major, other.major) || compareIdentifiers(this.minor, other.minor) || compareIdentifiers(this.patch, other.patch);\n    }\n  }, {\n    key: \"comparePre\",\n    value: function comparePre(other) {\n      if (!(other instanceof SemVer$1)) {\n        other = new SemVer$1(other, this.options);\n      } // NOT having a prerelease is > having one\n\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n      var i = 0;\n      do {\n        var a = this.prerelease[i];\n        var b = other.prerelease[i];\n        debug('prerelease compare', i, a, b);\n        if (a === undefined && b === undefined) {\n          return 0;\n        } else if (b === undefined) {\n          return 1;\n        } else if (a === undefined) {\n          return -1;\n        } else if (a === b) {\n          continue;\n        } else {\n          return compareIdentifiers(a, b);\n        }\n      } while (++i);\n    }\n  }, {\n    key: \"compareBuild\",\n    value: function compareBuild(other) {\n      if (!(other instanceof SemVer$1)) {\n        other = new SemVer$1(other, this.options);\n      }\n      var i = 0;\n      do {\n        var a = this.build[i];\n        var b = other.build[i];\n        debug('prerelease compare', i, a, b);\n        if (a === undefined && b === undefined) {\n          return 0;\n        } else if (b === undefined) {\n          return 1;\n        } else if (a === undefined) {\n          return -1;\n        } else if (a === b) {\n          continue;\n        } else {\n          return compareIdentifiers(a, b);\n        }\n      } while (++i);\n    } // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n  }, {\n    key: \"inc\",\n    value: function inc(release, identifier) {\n      switch (release) {\n        case 'premajor':\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc('pre', identifier);\n          break;\n        case 'preminor':\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc('pre', identifier);\n          break;\n        case 'prepatch':\n          // If this is already a prerelease, it will bump to the next version\n          // drop any prereleases that might already exist, since they are not\n          // relevant at this point.\n          this.prerelease.length = 0;\n          this.inc('patch', identifier);\n          this.inc('pre', identifier);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n\n        case 'prerelease':\n          if (this.prerelease.length === 0) {\n            this.inc('patch', identifier);\n          }\n          this.inc('pre', identifier);\n          break;\n        case 'major':\n          // If this is a pre-major version, bump up to the same major version.\n          // Otherwise increment major.\n          // 1.0.0-5 bumps to 1.0.0\n          // 1.1.0 bumps to 2.0.0\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case 'minor':\n          // If this is a pre-minor version, bump up to the same minor version.\n          // Otherwise increment minor.\n          // 1.2.0-5 bumps to 1.2.0\n          // 1.2.1 bumps to 1.3.0\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n        case 'patch':\n          // If this is not a pre-release version, it will increment the patch.\n          // If it is a pre-release it will bump up to the same patch version.\n          // 1.2.0-5 patches to 1.2.0\n          // 1.2.0 patches to 1.2.1\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n\n        case 'pre':\n          if (this.prerelease.length === 0) {\n            this.prerelease = [0];\n          } else {\n            var i = this.prerelease.length;\n            while (--i >= 0) {\n              if (typeof this.prerelease[i] === 'number') {\n                this.prerelease[i]++;\n                i = -2;\n              }\n            }\n            if (i === -1) {\n              // didn't increment anything\n              this.prerelease.push(0);\n            }\n          }\n          if (identifier) {\n            // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n            // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n            if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = [identifier, 0];\n              }\n            } else {\n              this.prerelease = [identifier, 0];\n            }\n          }\n          break;\n        default:\n          throw new Error(\"invalid increment argument: \".concat(release));\n      }\n      this.format();\n      this.raw = this.version;\n      return this;\n    }\n  }]);\n  return SemVer$1;\n}();\nvar semver = SemVer$1;\nvar SemVer = semver;\nvar compare$6 = function compare$6(a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose));\n};\nvar compare_1 = compare$6;\nvar compare$5 = compare_1;\nvar eq$1 = function eq$1(a, b, loose) {\n  return compare$5(a, b, loose) === 0;\n};\nvar eq_1 = eq$1;\nvar compare$4 = compare_1;\nvar neq$1 = function neq$1(a, b, loose) {\n  return compare$4(a, b, loose) !== 0;\n};\nvar neq_1 = neq$1;\nvar compare$3 = compare_1;\nvar gt$1 = function gt$1(a, b, loose) {\n  return compare$3(a, b, loose) > 0;\n};\nvar gt_1 = gt$1;\nvar compare$2 = compare_1;\nvar gte$1 = function gte$1(a, b, loose) {\n  return compare$2(a, b, loose) >= 0;\n};\nvar gte_1 = gte$1;\nvar compare$1 = compare_1;\nvar lt$1 = function lt$1(a, b, loose) {\n  return compare$1(a, b, loose) < 0;\n};\nvar lt_1 = lt$1;\nvar compare = compare_1;\nvar lte$1 = function lte$1(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n};\nvar lte_1 = lte$1;\nvar eq = eq_1;\nvar neq = neq_1;\nvar gt = gt_1;\nvar gte = gte_1;\nvar lt = lt_1;\nvar lte = lte_1;\nvar cmp = function cmp(a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version;\n      }\n      if (typeof b === 'object') {\n        b = b.version;\n      }\n      return a === b;\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version;\n      }\n      if (typeof b === 'object') {\n        b = b.version;\n      }\n      return a !== b;\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose);\n    case '!=':\n      return neq(a, b, loose);\n    case '>':\n      return gt(a, b, loose);\n    case '>=':\n      return gte(a, b, loose);\n    case '<':\n      return lt(a, b, loose);\n    case '<=':\n      return lte(a, b, loose);\n    default:\n      throw new TypeError(\"Invalid operator: \".concat(op));\n  }\n};\nvar cmp_1 = cmp;\nvar comparator;\nvar hasRequiredComparator;\nfunction requireComparator() {\n  if (hasRequiredComparator) return comparator;\n  hasRequiredComparator = 1;\n  var ANY = Symbol('SemVer ANY'); // hoisted class for cyclic dependency\n  var Comparator = /*#__PURE__*/function () {\n    function Comparator(comp, options) {\n      _classCallCheck(this, Comparator);\n      options = parseOptions(options);\n      if (comp instanceof Comparator) {\n        if (comp.loose === !!options.loose) {\n          return comp;\n        } else {\n          comp = comp.value;\n        }\n      }\n      debug('comparator', comp, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.parse(comp);\n      if (this.semver === ANY) {\n        this.value = '';\n      } else {\n        this.value = this.operator + this.semver.version;\n      }\n      debug('comp', this);\n    }\n    _createClass(Comparator, [{\n      key: \"parse\",\n      value: function parse(comp) {\n        var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR];\n        var m = comp.match(r);\n        if (!m) {\n          throw new TypeError(\"Invalid comparator: \".concat(comp));\n        }\n        this.operator = m[1] !== undefined ? m[1] : '';\n        if (this.operator === '=') {\n          this.operator = '';\n        } // if it literally is just '>' or '' then allow anything.\n\n        if (!m[2]) {\n          this.semver = ANY;\n        } else {\n          this.semver = new SemVer(m[2], this.options.loose);\n        }\n      }\n    }, {\n      key: \"toString\",\n      value: function toString() {\n        return this.value;\n      }\n    }, {\n      key: \"test\",\n      value: function test(version) {\n        debug('Comparator.test', version, this.options.loose);\n        if (this.semver === ANY || version === ANY) {\n          return true;\n        }\n        if (typeof version === 'string') {\n          try {\n            version = new SemVer(version, this.options);\n          } catch (er) {\n            return false;\n          }\n        }\n        return cmp(version, this.operator, this.semver, this.options);\n      }\n    }, {\n      key: \"intersects\",\n      value: function intersects(comp, options) {\n        if (!(comp instanceof Comparator)) {\n          throw new TypeError('a Comparator is required');\n        }\n        if (!options || typeof options !== 'object') {\n          options = {\n            loose: !!options,\n            includePrerelease: false\n          };\n        }\n        if (this.operator === '') {\n          if (this.value === '') {\n            return true;\n          }\n          return new Range(comp.value, options).test(this.value);\n        } else if (comp.operator === '') {\n          if (comp.value === '') {\n            return true;\n          }\n          return new Range(this.value, options).test(comp.semver);\n        }\n        var sameDirectionIncreasing = (this.operator === '>=' || this.operator === '>') && (comp.operator === '>=' || comp.operator === '>');\n        var sameDirectionDecreasing = (this.operator === '<=' || this.operator === '<') && (comp.operator === '<=' || comp.operator === '<');\n        var sameSemVer = this.semver.version === comp.semver.version;\n        var differentDirectionsInclusive = (this.operator === '>=' || this.operator === '<=') && (comp.operator === '>=' || comp.operator === '<=');\n        var oppositeDirectionsLessThan = cmp(this.semver, '<', comp.semver, options) && (this.operator === '>=' || this.operator === '>') && (comp.operator === '<=' || comp.operator === '<');\n        var oppositeDirectionsGreaterThan = cmp(this.semver, '>', comp.semver, options) && (this.operator === '<=' || this.operator === '<') && (comp.operator === '>=' || comp.operator === '>');\n        return sameDirectionIncreasing || sameDirectionDecreasing || sameSemVer && differentDirectionsInclusive || oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n      }\n    }], [{\n      key: \"ANY\",\n      get: function get() {\n        return ANY;\n      }\n    }]);\n    return Comparator;\n  }();\n  comparator = Comparator;\n  var parseOptions = parseOptions_1;\n  var re = re$1.exports.re,\n    t = re$1.exports.t;\n  var cmp = cmp_1;\n  var debug = debug_1;\n  var SemVer = semver;\n  var Range = requireRange();\n  return comparator;\n}\nfunction _createForOfIteratorHelper$1(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray$1(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nvar range;\nvar hasRequiredRange;\nfunction requireRange() {\n  if (hasRequiredRange) return range;\n  hasRequiredRange = 1; // hoisted class for cyclic dependency\n  var Range = /*#__PURE__*/function () {\n    function Range(range, options) {\n      var _this5 = this;\n      _classCallCheck(this, Range);\n      options = parseOptions(options);\n      if (range instanceof Range) {\n        if (range.loose === !!options.loose && range.includePrerelease === !!options.includePrerelease) {\n          return range;\n        } else {\n          return new Range(range.raw, options);\n        }\n      }\n      if (range instanceof Comparator) {\n        // just put it in the set and return\n        this.raw = range.value;\n        this.set = [[range]];\n        this.format();\n        return this;\n      }\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease; // First, split based on boolean or ||\n\n      this.raw = range;\n      this.set = range.split('||') // map the range to a 2d array of comparators\n      .map(function (r) {\n        return _this5.parseRange(r.trim());\n      }) // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(function (c) {\n        return c.length;\n      });\n      if (!this.set.length) {\n        throw new TypeError(\"Invalid SemVer Range: \".concat(range));\n      } // if we have any that are not the null set, throw out null sets.\n\n      if (this.set.length > 1) {\n        // keep the first one, in case they're all null sets\n        var first = this.set[0];\n        this.set = this.set.filter(function (c) {\n          return !isNullSet(c[0]);\n        });\n        if (this.set.length === 0) {\n          this.set = [first];\n        } else if (this.set.length > 1) {\n          // if we have any that are *, then the range is just *\n          var _iterator = _createForOfIteratorHelper$1(this.set),\n            _step;\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var c = _step.value;\n              if (c.length === 1 && isAny(c[0])) {\n                this.set = [c];\n                break;\n              }\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        }\n      }\n      this.format();\n    }\n    _createClass(Range, [{\n      key: \"format\",\n      value: function format() {\n        this.range = this.set.map(function (comps) {\n          return comps.join(' ').trim();\n        }).join('||').trim();\n        return this.range;\n      }\n    }, {\n      key: \"toString\",\n      value: function toString() {\n        return this.range;\n      }\n    }, {\n      key: \"parseRange\",\n      value: function parseRange(range) {\n        var _this6 = this;\n        range = range.trim(); // memoize range parsing for performance.\n        // this is a very hot path, and fully deterministic.\n\n        var memoOpts = Object.keys(this.options).join(',');\n        var memoKey = \"parseRange:\".concat(memoOpts, \":\").concat(range);\n        var cached = cache.get(memoKey);\n        if (cached) {\n          return cached;\n        }\n        var loose = this.options.loose; // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n\n        var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE];\n        range = range.replace(hr, hyphenReplace(this.options.includePrerelease));\n        debug('hyphen replace', range); // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n\n        range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace);\n        debug('comparator trim', range); // `~ 1.2.3` => `~1.2.3`\n\n        range = range.replace(re[t.TILDETRIM], tildeTrimReplace); // `^ 1.2.3` => `^1.2.3`\n\n        range = range.replace(re[t.CARETTRIM], caretTrimReplace); // normalize spaces\n\n        range = range.split(/\\s+/).join(' '); // At this point, the range is completely trimmed and\n        // ready to be split into comparators.\n\n        var rangeList = range.split(' ').map(function (comp) {\n          return parseComparator(comp, _this6.options);\n        }).join(' ').split(/\\s+/) // >=0.0.0 is equivalent to *\n        .map(function (comp) {\n          return replaceGTE0(comp, _this6.options);\n        });\n        if (loose) {\n          // in loose mode, throw out any that are not valid comparators\n          rangeList = rangeList.filter(function (comp) {\n            debug('loose invalid filter', comp, _this6.options);\n            return !!comp.match(re[t.COMPARATORLOOSE]);\n          });\n        }\n        debug('range list', rangeList); // if any comparators are the null set, then replace with JUST null set\n        // if more than one comparator, remove any * comparators\n        // also, don't include the same comparator more than once\n\n        var rangeMap = new Map();\n        var comparators = rangeList.map(function (comp) {\n          return new Comparator(comp, _this6.options);\n        });\n        var _iterator2 = _createForOfIteratorHelper$1(comparators),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var comp = _step2.value;\n            if (isNullSet(comp)) {\n              return [comp];\n            }\n            rangeMap.set(comp.value, comp);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        if (rangeMap.size > 1 && rangeMap.has('')) {\n          rangeMap.delete('');\n        }\n        var result = _toConsumableArray(rangeMap.values());\n        cache.set(memoKey, result);\n        return result;\n      }\n    }, {\n      key: \"intersects\",\n      value: function intersects(range, options) {\n        if (!(range instanceof Range)) {\n          throw new TypeError('a Range is required');\n        }\n        return this.set.some(function (thisComparators) {\n          return isSatisfiable(thisComparators, options) && range.set.some(function (rangeComparators) {\n            return isSatisfiable(rangeComparators, options) && thisComparators.every(function (thisComparator) {\n              return rangeComparators.every(function (rangeComparator) {\n                return thisComparator.intersects(rangeComparator, options);\n              });\n            });\n          });\n        });\n      } // if ANY of the sets match ALL of its comparators, then pass\n    }, {\n      key: \"test\",\n      value: function test(version) {\n        if (!version) {\n          return false;\n        }\n        if (typeof version === 'string') {\n          try {\n            version = new SemVer(version, this.options);\n          } catch (er) {\n            return false;\n          }\n        }\n        for (var i = 0; i < this.set.length; i++) {\n          if (testSet(this.set[i], version, this.options)) {\n            return true;\n          }\n        }\n        return false;\n      }\n    }]);\n    return Range;\n  }();\n  range = Range;\n  var LRU = lruCache;\n  var cache = new LRU({\n    max: 1000\n  });\n  var parseOptions = parseOptions_1;\n  var Comparator = requireComparator();\n  var debug = debug_1;\n  var SemVer = semver;\n  var re = re$1.exports.re,\n    t = re$1.exports.t,\n    comparatorTrimReplace = re$1.exports.comparatorTrimReplace,\n    tildeTrimReplace = re$1.exports.tildeTrimReplace,\n    caretTrimReplace = re$1.exports.caretTrimReplace;\n  var isNullSet = function isNullSet(c) {\n    return c.value === '<0.0.0-0';\n  };\n  var isAny = function isAny(c) {\n    return c.value === '';\n  }; // take a set of comparators and determine whether there\n  // exists a version which can satisfy it\n\n  var isSatisfiable = function isSatisfiable(comparators, options) {\n    var result = true;\n    var remainingComparators = comparators.slice();\n    var testComparator = remainingComparators.pop();\n    while (result && remainingComparators.length) {\n      result = remainingComparators.every(function (otherComparator) {\n        return testComparator.intersects(otherComparator, options);\n      });\n      testComparator = remainingComparators.pop();\n    }\n    return result;\n  }; // comprised of xranges, tildes, stars, and gtlt's at this point.\n  // already replaced the hyphen ranges\n  // turn into a set of JUST comparators.\n\n  var parseComparator = function parseComparator(comp, options) {\n    debug('comp', comp, options);\n    comp = replaceCarets(comp, options);\n    debug('caret', comp);\n    comp = replaceTildes(comp, options);\n    debug('tildes', comp);\n    comp = replaceXRanges(comp, options);\n    debug('xrange', comp);\n    comp = replaceStars(comp, options);\n    debug('stars', comp);\n    return comp;\n  };\n  var isX = function isX(id) {\n    return !id || id.toLowerCase() === 'x' || id === '*';\n  }; // ~, ~> --> * (any, kinda silly)\n  // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n  // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n  // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n  // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n  // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n\n  var replaceTildes = function replaceTildes(comp, options) {\n    return comp.trim().split(/\\s+/).map(function (c) {\n      return replaceTilde(c, options);\n    }).join(' ');\n  };\n  var replaceTilde = function replaceTilde(comp, options) {\n    var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE];\n    return comp.replace(r, function (_, M, m, p, pr) {\n      debug('tilde', comp, _, M, m, p, pr);\n      var ret;\n      if (isX(M)) {\n        ret = '';\n      } else if (isX(m)) {\n        ret = \">=\".concat(M, \".0.0 <\").concat(+M + 1, \".0.0-0\");\n      } else if (isX(p)) {\n        // ~1.2 == >=1.2.0 <1.3.0-0\n        ret = \">=\".concat(M, \".\").concat(m, \".0 <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n      } else if (pr) {\n        debug('replaceTilde pr', pr);\n        ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n      } else {\n        // ~1.2.3 == >=1.2.3 <1.3.0-0\n        ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n      }\n      debug('tilde return', ret);\n      return ret;\n    });\n  }; // ^ --> * (any, kinda silly)\n  // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n  // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n  // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n  // ^1.2.3 --> >=1.2.3 <2.0.0-0\n  // ^1.2.0 --> >=1.2.0 <2.0.0-0\n\n  var replaceCarets = function replaceCarets(comp, options) {\n    return comp.trim().split(/\\s+/).map(function (c) {\n      return replaceCaret(c, options);\n    }).join(' ');\n  };\n  var replaceCaret = function replaceCaret(comp, options) {\n    debug('caret', comp, options);\n    var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET];\n    var z = options.includePrerelease ? '-0' : '';\n    return comp.replace(r, function (_, M, m, p, pr) {\n      debug('caret', comp, _, M, m, p, pr);\n      var ret;\n      if (isX(M)) {\n        ret = '';\n      } else if (isX(m)) {\n        ret = \">=\".concat(M, \".0.0\").concat(z, \" <\").concat(+M + 1, \".0.0-0\");\n      } else if (isX(p)) {\n        if (M === '0') {\n          ret = \">=\".concat(M, \".\").concat(m, \".0\").concat(z, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n        } else {\n          ret = \">=\".concat(M, \".\").concat(m, \".0\").concat(z, \" <\").concat(+M + 1, \".0.0-0\");\n        }\n      } else if (pr) {\n        debug('replaceCaret pr', pr);\n        if (M === '0') {\n          if (m === '0') {\n            ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(M, \".\").concat(m, \".\").concat(+p + 1, \"-0\");\n          } else {\n            ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n          }\n        } else {\n          ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \"-\").concat(pr, \" <\").concat(+M + 1, \".0.0-0\");\n        }\n      } else {\n        debug('no pr');\n        if (M === '0') {\n          if (m === '0') {\n            ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p).concat(z, \" <\").concat(M, \".\").concat(m, \".\").concat(+p + 1, \"-0\");\n          } else {\n            ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p).concat(z, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n          }\n        } else {\n          ret = \">=\".concat(M, \".\").concat(m, \".\").concat(p, \" <\").concat(+M + 1, \".0.0-0\");\n        }\n      }\n      debug('caret return', ret);\n      return ret;\n    });\n  };\n  var replaceXRanges = function replaceXRanges(comp, options) {\n    debug('replaceXRanges', comp, options);\n    return comp.split(/\\s+/).map(function (c) {\n      return replaceXRange(c, options);\n    }).join(' ');\n  };\n  var replaceXRange = function replaceXRange(comp, options) {\n    comp = comp.trim();\n    var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE];\n    return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n      debug('xRange', comp, ret, gtlt, M, m, p, pr);\n      var xM = isX(M);\n      var xm = xM || isX(m);\n      var xp = xm || isX(p);\n      var anyX = xp;\n      if (gtlt === '=' && anyX) {\n        gtlt = '';\n      } // if we're including prereleases in the match, then we need\n      // to fix this to -0, the lowest possible prerelease value\n\n      pr = options.includePrerelease ? '-0' : '';\n      if (xM) {\n        if (gtlt === '>' || gtlt === '<') {\n          // nothing is allowed\n          ret = '<0.0.0-0';\n        } else {\n          // nothing is forbidden\n          ret = '*';\n        }\n      } else if (gtlt && anyX) {\n        // we know patch is an x, because we have any x at all.\n        // replace X with 0\n        if (xm) {\n          m = 0;\n        }\n        p = 0;\n        if (gtlt === '>') {\n          // >1 => >=2.0.0\n          // >1.2 => >=1.3.0\n          gtlt = '>=';\n          if (xm) {\n            M = +M + 1;\n            m = 0;\n            p = 0;\n          } else {\n            m = +m + 1;\n            p = 0;\n          }\n        } else if (gtlt === '<=') {\n          // <=0.7.x is actually <0.8.0, since any 0.7.x should\n          // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n          gtlt = '<';\n          if (xm) {\n            M = +M + 1;\n          } else {\n            m = +m + 1;\n          }\n        }\n        if (gtlt === '<') {\n          pr = '-0';\n        }\n        ret = \"\".concat(gtlt + M, \".\").concat(m, \".\").concat(p).concat(pr);\n      } else if (xm) {\n        ret = \">=\".concat(M, \".0.0\").concat(pr, \" <\").concat(+M + 1, \".0.0-0\");\n      } else if (xp) {\n        ret = \">=\".concat(M, \".\").concat(m, \".0\").concat(pr, \" <\").concat(M, \".\").concat(+m + 1, \".0-0\");\n      }\n      debug('xRange return', ret);\n      return ret;\n    });\n  }; // Because * is AND-ed with everything else in the comparator,\n  // and '' means \"any version\", just remove the *s entirely.\n\n  var replaceStars = function replaceStars(comp, options) {\n    debug('replaceStars', comp, options); // Looseness is ignored here.  star is always as loose as it gets!\n\n    return comp.trim().replace(re[t.STAR], '');\n  };\n  var replaceGTE0 = function replaceGTE0(comp, options) {\n    debug('replaceGTE0', comp, options);\n    return comp.trim().replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '');\n  }; // This function is passed to string.replace(re[t.HYPHENRANGE])\n  // M, m, patch, prerelease, build\n  // 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n  // 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n  // 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n\n  var hyphenReplace = function hyphenReplace(incPr) {\n    return function ($0, from, fM, fm, fp, fpr, fb, to, tM, tm, tp, tpr, tb) {\n      if (isX(fM)) {\n        from = '';\n      } else if (isX(fm)) {\n        from = \">=\".concat(fM, \".0.0\").concat(incPr ? '-0' : '');\n      } else if (isX(fp)) {\n        from = \">=\".concat(fM, \".\").concat(fm, \".0\").concat(incPr ? '-0' : '');\n      } else if (fpr) {\n        from = \">=\".concat(from);\n      } else {\n        from = \">=\".concat(from).concat(incPr ? '-0' : '');\n      }\n      if (isX(tM)) {\n        to = '';\n      } else if (isX(tm)) {\n        to = \"<\".concat(+tM + 1, \".0.0-0\");\n      } else if (isX(tp)) {\n        to = \"<\".concat(tM, \".\").concat(+tm + 1, \".0-0\");\n      } else if (tpr) {\n        to = \"<=\".concat(tM, \".\").concat(tm, \".\").concat(tp, \"-\").concat(tpr);\n      } else if (incPr) {\n        to = \"<\".concat(tM, \".\").concat(tm, \".\").concat(+tp + 1, \"-0\");\n      } else {\n        to = \"<=\".concat(to);\n      }\n      return \"\".concat(from, \" \").concat(to).trim();\n    };\n  };\n  var testSet = function testSet(set, version, options) {\n    for (var i = 0; i < set.length; i++) {\n      if (!set[i].test(version)) {\n        return false;\n      }\n    }\n    if (version.prerelease.length && !options.includePrerelease) {\n      // Find the set of versions that are allowed to have prereleases\n      // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n      // That should allow `1.2.3-pr.2` to pass.\n      // However, `1.2.4-alpha.notready` should NOT be allowed,\n      // even though it's within the range set by the comparators.\n      for (var _i = 0; _i < set.length; _i++) {\n        debug(set[_i].semver);\n        if (set[_i].semver === Comparator.ANY) {\n          continue;\n        }\n        if (set[_i].semver.prerelease.length > 0) {\n          var allowed = set[_i].semver;\n          if (allowed.major === version.major && allowed.minor === version.minor && allowed.patch === version.patch) {\n            return true;\n          }\n        }\n      } // Version has a -pre, but it's not one of the ones we like.\n\n      return false;\n    }\n    return true;\n  };\n  return range;\n}\nvar Range = requireRange();\nvar satisfies = function satisfies(version, range, options) {\n  try {\n    range = new Range(range, options);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n};\nvar satisfies_1 = satisfies;\n\n/**\n * Open editor url in a new window, and pass a message.\n */\nfunction post(window, url, data) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  var editor = window.open(url);\n  var wait = 10000;\n  var step = 250;\n  var _URL = new URL(url),\n    origin = _URL.origin; // eslint-disable-next-line no-bitwise\n\n  var count = ~~(wait / step);\n  function listen(evt) {\n    if (evt.source === editor) {\n      count = 0;\n      window.removeEventListener('message', listen, false);\n    }\n  }\n  window.addEventListener('message', listen, false); // send message\n  // periodically resend until ack received or timeout\n\n  function send() {\n    if (count <= 0) {\n      return;\n    }\n    editor.postMessage(data, origin);\n    setTimeout(send, step);\n    count -= 1;\n  }\n  setTimeout(send, step);\n}\n\n// generated with build-style.sh\nvar embedStyle = \".vega-embed {\\n  position: relative;\\n  display: inline-block;\\n  box-sizing: border-box;\\n}\\n.vega-embed.has-actions {\\n  padding-right: 38px;\\n}\\n.vega-embed details:not([open]) > :not(summary) {\\n  display: none !important;\\n}\\n.vega-embed summary {\\n  list-style: none;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  padding: 6px;\\n  z-index: 1000;\\n  background: white;\\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\\n  color: #1b1e23;\\n  border: 1px solid #aaa;\\n  border-radius: 999px;\\n  opacity: 0.2;\\n  transition: opacity 0.4s ease-in;\\n  cursor: pointer;\\n  line-height: 0px;\\n}\\n.vega-embed summary::-webkit-details-marker {\\n  display: none;\\n}\\n.vega-embed summary:active {\\n  box-shadow: #aaa 0px 0px 0px 1px inset;\\n}\\n.vega-embed summary svg {\\n  width: 14px;\\n  height: 14px;\\n}\\n.vega-embed details[open] summary {\\n  opacity: 0.7;\\n}\\n.vega-embed:hover summary, .vega-embed:focus-within summary {\\n  opacity: 1 !important;\\n  transition: opacity 0.2s ease;\\n}\\n.vega-embed .vega-actions {\\n  position: absolute;\\n  z-index: 1001;\\n  top: 35px;\\n  right: -9px;\\n  display: flex;\\n  flex-direction: column;\\n  padding-bottom: 8px;\\n  padding-top: 8px;\\n  border-radius: 4px;\\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\\n  border: 1px solid #d9d9d9;\\n  background: white;\\n  animation-duration: 0.15s;\\n  animation-name: scale-in;\\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\\n  text-align: left;\\n}\\n.vega-embed .vega-actions a {\\n  padding: 8px 16px;\\n  font-family: sans-serif;\\n  font-size: 14px;\\n  font-weight: 600;\\n  white-space: nowrap;\\n  color: #434a56;\\n  text-decoration: none;\\n}\\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\\n  background-color: #f7f7f9;\\n  color: black;\\n}\\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\\n  content: \\\"\\\";\\n  display: inline-block;\\n  position: absolute;\\n}\\n.vega-embed .vega-actions::before {\\n  left: auto;\\n  right: 14px;\\n  top: -16px;\\n  border: 8px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: #d9d9d9;\\n}\\n.vega-embed .vega-actions::after {\\n  left: auto;\\n  right: 15px;\\n  top: -14px;\\n  border: 7px solid rgba(0, 0, 0, 0);\\n  border-bottom-color: #fff;\\n}\\n.vega-embed .chart-wrapper.fit-x {\\n  width: 100%;\\n}\\n.vega-embed .chart-wrapper.fit-y {\\n  height: 100%;\\n}\\n\\n.vega-embed-wrapper {\\n  max-width: 100%;\\n  overflow: auto;\\n  padding-right: 14px;\\n}\\n\\n@keyframes scale-in {\\n  from {\\n    opacity: 0;\\n    transform: scale(0.6);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: scale(1);\\n  }\\n}\\n\";\nif (!String.prototype.startsWith) {\n  // eslint-disable-next-line no-extend-native,func-names\n  String.prototype.startsWith = function (search, pos) {\n    return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n  };\n}\nfunction mergeDeep(dest) {\n  for (var _len = arguments.length, src = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    src[_key - 1] = arguments[_key];\n  }\n  for (var _i = 0, _src = src; _i < _src.length; _i++) {\n    var s = _src[_i];\n    deepMerge_(dest, s);\n  }\n  return dest;\n}\nfunction deepMerge_(dest, src) {\n  for (var _i2 = 0, _Object$keys = Object.keys(src); _i2 < _Object$keys.length; _i2++) {\n    var property = _Object$keys[_i2];\n    writeConfig(dest, property, src[property], true);\n  }\n}\nvar name = \"vega-embed\";\nvar version$1 = \"6.21.0\";\nvar description = \"Publish Vega visualizations as embedded web components.\";\nvar keywords = [\"vega\", \"data\", \"visualization\", \"component\", \"embed\"];\nvar repository = {\n  type: \"git\",\n  url: \"http://github.com/vega/vega-embed.git\"\n};\nvar author = {\n  name: \"UW Interactive Data Lab\",\n  url: \"http://idl.cs.washington.edu\"\n};\nvar contributors = [{\n  name: \"Dominik Moritz\",\n  url: \"https://www.domoritz.de\"\n}];\nvar bugs = {\n  url: \"https://github.com/vega/vega-embed/issues\"\n};\nvar homepage = \"https://github.com/vega/vega-embed#readme\";\nvar license = \"BSD-3-Clause\";\nvar main = \"build/vega-embed.js\";\nvar module = \"build/vega-embed.module.js\";\nvar unpkg = \"build/vega-embed.min.js\";\nvar jsdelivr = \"build/vega-embed.min.js\";\nvar types = \"build/vega-embed.module.d.ts\";\nvar files = [\"src\", \"build\", \"build-es5\", \"patches\"];\nvar devDependencies = {\n  \"@auto-it/conventional-commits\": \"^10.37.1\",\n  \"@auto-it/first-time-contributor\": \"^10.37.1\",\n  \"@babel/plugin-transform-runtime\": \"^7.18.2\",\n  \"@rollup/plugin-commonjs\": \"22.0.0\",\n  \"@rollup/plugin-json\": \"^4.1.0\",\n  \"@rollup/plugin-node-resolve\": \"^13.3.0\",\n  \"@types/semver\": \"^7.3.9\",\n  auto: \"^10.37.1\",\n  \"browser-sync\": \"^2.27.10\",\n  concurrently: \"^7.2.1\",\n  \"del-cli\": \"^4.0.1\",\n  \"jest-canvas-mock\": \"^2.4.0\",\n  \"patch-package\": \"^6.4.7\",\n  \"postinstall-postinstall\": \"^2.1.0\",\n  rollup: \"2.75.6\",\n  \"rollup-plugin-bundle-size\": \"^1.0.3\",\n  \"rollup-plugin-terser\": \"^7.0.2\",\n  \"rollup-plugin-ts\": \"^3.0.0\",\n  sass: \"^1.52.1\",\n  typescript: \"^4.7.2\",\n  vega: \"^5.22.1\",\n  \"vega-lite\": \"^5.2.0\",\n  \"vega-lite-dev-config\": \"^0.20.0\"\n};\nvar peerDependencies = {\n  vega: \"^5.21.0\",\n  \"vega-lite\": \"*\"\n};\nvar dependencies = {\n  \"fast-json-patch\": \"^3.1.1\",\n  \"json-stringify-pretty-compact\": \"^3.0.0\",\n  semver: \"^7.3.7\",\n  tslib: \"^2.4.0\",\n  \"vega-interpreter\": \"^1.0.4\",\n  \"vega-schema-url-parser\": \"^2.2.0\",\n  \"vega-themes\": \"^2.10.0\",\n  \"vega-tooltip\": \"^0.28.0\"\n};\nvar bundledDependencies = [\"yallist\"];\nvar scripts = {\n  prebuild: \"yarn clean && yarn build:style\",\n  build: \"rollup -c\",\n  \"build:style\": \"./build-style.sh\",\n  clean: \"del-cli build build-es5 src/style.ts\",\n  prepublishOnly: \"yarn clean && yarn build\",\n  preversion: \"yarn lint && yarn test\",\n  serve: \"browser-sync start --directory -s -f build *.html\",\n  start: \"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'\",\n  pretest: \"yarn build:style\",\n  test: \"beemo jest --stdio stream\",\n  \"test:inspect\": \"node --inspect-brk ./node_modules/.bin/jest --runInBand\",\n  prepare: \"beemo create-config && npx patch-package\",\n  prettierbase: \"beemo prettier '*.{css,scss,html}'\",\n  eslintbase: \"beemo eslint .\",\n  format: \"yarn eslintbase --fix && yarn prettierbase --write\",\n  lint: \"yarn eslintbase && yarn prettierbase --check\",\n  release: \"yarn build && auto shipit\"\n};\nvar pkg = {\n  name: name,\n  version: version$1,\n  description: description,\n  keywords: keywords,\n  repository: repository,\n  author: author,\n  contributors: contributors,\n  bugs: bugs,\n  homepage: homepage,\n  license: license,\n  main: main,\n  module: module,\n  unpkg: unpkg,\n  jsdelivr: jsdelivr,\n  types: types,\n  files: files,\n  devDependencies: devDependencies,\n  peerDependencies: peerDependencies,\n  dependencies: dependencies,\n  bundledDependencies: bundledDependencies,\n  scripts: scripts\n};\nvar _w$vl;\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (!it) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nvar version = pkg.version;\nvar vega = vegaImport;\nvar _vegaLite = vegaLiteImport; // For backwards compatibility with Vega-Lite before v4.\nvar w = typeof window !== 'undefined' ? window : undefined;\nif (_vegaLite === undefined && w !== null && w !== void 0 && (_w$vl = w.vl) !== null && _w$vl !== void 0 && _w$vl.compile) {\n  _vegaLite = w.vl;\n}\nvar DEFAULT_ACTIONS = {\n  export: {\n    svg: true,\n    png: true\n  },\n  source: true,\n  compiled: true,\n  editor: true\n};\nvar I18N = {\n  CLICK_TO_VIEW_ACTIONS: 'Click to view actions',\n  COMPILED_ACTION: 'View Compiled Vega',\n  EDITOR_ACTION: 'Open in Vega Editor',\n  PNG_ACTION: 'Save as PNG',\n  SOURCE_ACTION: 'View Source',\n  SVG_ACTION: 'Save as SVG'\n};\nvar NAMES = {\n  vega: 'Vega',\n  'vega-lite': 'Vega-Lite'\n};\nvar VERSION = {\n  vega: vega.version,\n  'vega-lite': _vegaLite ? _vegaLite.version : 'not available'\n};\nvar PREPROCESSOR = {\n  vega: function vega(vgSpec) {\n    return vgSpec;\n  },\n  'vega-lite': function vegaLite(vlSpec, config) {\n    return _vegaLite.compile(vlSpec, {\n      config: config\n    }).spec;\n  }\n};\nvar SVG_CIRCLES = \"\\n<svg viewBox=\\\"0 0 16 16\\\" fill=\\\"currentColor\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\">\\n  <circle r=\\\"2\\\" cy=\\\"8\\\" cx=\\\"2\\\"></circle>\\n  <circle r=\\\"2\\\" cy=\\\"8\\\" cx=\\\"8\\\"></circle>\\n  <circle r=\\\"2\\\" cy=\\\"8\\\" cx=\\\"14\\\"></circle>\\n</svg>\";\nvar CHART_WRAPPER_CLASS = 'chart-wrapper';\nfunction isTooltipHandler(h) {\n  return typeof h === 'function';\n}\nfunction viewSource(source, sourceHeader, sourceFooter, mode) {\n  var header = \"<html><head>\".concat(sourceHeader, \"</head><body><pre><code class=\\\"json\\\">\");\n  var footer = \"</code></pre>\".concat(sourceFooter, \"</body></html>\"); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n  var win = window.open('');\n  win.document.write(header + source + footer);\n  win.document.title = \"\".concat(NAMES[mode], \" JSON Source\");\n}\n/**\n * Try to guess the type of spec.\n *\n * @param spec Vega or Vega-Lite spec.\n */\n\nfunction guessMode(spec, providedMode) {\n  // Decide mode\n  if (spec.$schema) {\n    var parsed = schemaParser(spec.$schema);\n    if (providedMode && providedMode !== parsed.library) {\n      var _NAMES$providedMode;\n      console.warn(\"The given visualization spec is written in \".concat(NAMES[parsed.library], \", but mode argument sets \").concat((_NAMES$providedMode = NAMES[providedMode]) !== null && _NAMES$providedMode !== void 0 ? _NAMES$providedMode : providedMode, \".\"));\n    }\n    var mode = parsed.library;\n    if (!satisfies_1(VERSION[mode], \"^\".concat(parsed.version.slice(1)))) {\n      console.warn(\"The input spec uses \".concat(NAMES[mode], \" \").concat(parsed.version, \", but the current version of \").concat(NAMES[mode], \" is v\").concat(VERSION[mode], \".\"));\n    }\n    return mode;\n  } // try to guess from the provided spec\n\n  if ('mark' in spec || 'encoding' in spec || 'layer' in spec || 'hconcat' in spec || 'vconcat' in spec || 'facet' in spec || 'repeat' in spec) {\n    return 'vega-lite';\n  }\n  if ('marks' in spec || 'signals' in spec || 'scales' in spec || 'axes' in spec) {\n    return 'vega';\n  }\n  return providedMode !== null && providedMode !== void 0 ? providedMode : 'vega';\n}\nfunction isLoader(o) {\n  return !!(o && 'load' in o);\n}\nfunction createLoader(opts) {\n  return isLoader(opts) ? opts : vega.loader(opts);\n}\nfunction embedOptionsFromUsermeta(parsedSpec) {\n  var _embedOptions, _parsedSpec$usermeta;\n  var opts = (_embedOptions = (_parsedSpec$usermeta = parsedSpec.usermeta) === null || _parsedSpec$usermeta === void 0 ? void 0 : _parsedSpec$usermeta.embedOptions) !== null && _embedOptions !== void 0 ? _embedOptions : {};\n  if (isString(opts.defaultStyle)) {\n    // we don't allow styles set via usermeta since it would allow injection of logic (we set the style via innerHTML)\n    opts.defaultStyle = false;\n  }\n  return opts;\n}\n/**\n * Embed a Vega visualization component in a web page. This function returns a promise.\n *\n * @param el        DOM element in which to place component (DOM node or CSS selector).\n * @param spec      String : A URL string from which to load the Vega specification.\n *                  Object : The Vega/Vega-Lite specification as a parsed JSON object.\n * @param opts       A JavaScript object containing options for embedding.\n */\n\nfunction embed(_x, _x2) {\n  return _embed2.apply(this, arguments);\n}\nfunction _embed2() {\n  _embed2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(el, spec) {\n    var _parsedOpts$config, _usermetaOpts$config;\n    var opts,\n      parsedSpec,\n      loader,\n      loadedEmbedOptions,\n      usermetaLoader,\n      _opts$loader,\n      usermetaOpts,\n      parsedOpts,\n      mergedOpts,\n      _args = arguments;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            opts = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            if (!isString(spec)) {\n              _context.next = 10;\n              break;\n            }\n            loader = createLoader(opts.loader);\n            _context.t0 = JSON;\n            _context.next = 6;\n            return loader.load(spec);\n          case 6:\n            _context.t1 = _context.sent;\n            parsedSpec = _context.t0.parse.call(_context.t0, _context.t1);\n            _context.next = 11;\n            break;\n          case 10:\n            parsedSpec = spec;\n          case 11:\n            loadedEmbedOptions = embedOptionsFromUsermeta(parsedSpec);\n            usermetaLoader = loadedEmbedOptions.loader; // either create the loader for the first time or create a new loader if the spec has new loader options\n\n            if (!loader || usermetaLoader) {\n              loader = createLoader((_opts$loader = opts.loader) !== null && _opts$loader !== void 0 ? _opts$loader : usermetaLoader);\n            }\n            _context.next = 16;\n            return loadOpts(loadedEmbedOptions, loader);\n          case 16:\n            usermetaOpts = _context.sent;\n            _context.next = 19;\n            return loadOpts(opts, loader);\n          case 19:\n            parsedOpts = _context.sent;\n            mergedOpts = _objectSpread(_objectSpread({}, mergeDeep(parsedOpts, usermetaOpts)), {}, {\n              config: mergeConfig((_parsedOpts$config = parsedOpts.config) !== null && _parsedOpts$config !== void 0 ? _parsedOpts$config : {}, (_usermetaOpts$config = usermetaOpts.config) !== null && _usermetaOpts$config !== void 0 ? _usermetaOpts$config : {})\n            });\n            _context.next = 23;\n            return _embed(el, parsedSpec, mergedOpts, loader);\n          case 23:\n            return _context.abrupt(\"return\", _context.sent);\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _embed2.apply(this, arguments);\n}\nfunction loadOpts(_x3, _x4) {\n  return _loadOpts.apply(this, arguments);\n}\nfunction _loadOpts() {\n  _loadOpts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(opt, loader) {\n    var _opt$config;\n    var config, patch;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!isString(opt.config)) {\n              _context2.next = 8;\n              break;\n            }\n            _context2.t1 = JSON;\n            _context2.next = 4;\n            return loader.load(opt.config);\n          case 4:\n            _context2.t2 = _context2.sent;\n            _context2.t0 = _context2.t1.parse.call(_context2.t1, _context2.t2);\n            _context2.next = 9;\n            break;\n          case 8:\n            _context2.t0 = (_opt$config = opt.config) !== null && _opt$config !== void 0 ? _opt$config : {};\n          case 9:\n            config = _context2.t0;\n            if (!isString(opt.patch)) {\n              _context2.next = 18;\n              break;\n            }\n            _context2.t4 = JSON;\n            _context2.next = 14;\n            return loader.load(opt.patch);\n          case 14:\n            _context2.t5 = _context2.sent;\n            _context2.t3 = _context2.t4.parse.call(_context2.t4, _context2.t5);\n            _context2.next = 19;\n            break;\n          case 18:\n            _context2.t3 = opt.patch;\n          case 19:\n            patch = _context2.t3;\n            return _context2.abrupt(\"return\", _objectSpread(_objectSpread(_objectSpread({}, opt), patch ? {\n              patch: patch\n            } : {}), config ? {\n              config: config\n            } : {}));\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _loadOpts.apply(this, arguments);\n}\nfunction getRoot(el) {\n  var _document$head;\n  var possibleRoot = el.getRootNode ? el.getRootNode() : document;\n  return possibleRoot instanceof ShadowRoot ? {\n    root: possibleRoot,\n    rootContainer: possibleRoot\n  } : {\n    root: document,\n    rootContainer: (_document$head = document.head) !== null && _document$head !== void 0 ? _document$head : document.body\n  };\n}\nfunction _embed(_x5, _x6) {\n  return _embed3.apply(this, arguments);\n}\nfunction _embed3() {\n  _embed3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(el, spec) {\n    var _opts$config, _opts$actions, _opts$renderer, _opts$logLevel, _opts$downloadFileNam, _ref, _expressionInterprete;\n    var opts,\n      loader,\n      config,\n      actions,\n      i18n,\n      renderer,\n      logLevel,\n      downloadFileName,\n      element,\n      ID,\n      _getRoot,\n      root,\n      rootContainer,\n      style,\n      mode,\n      vgSpec,\n      parsed,\n      container,\n      chartWrapper,\n      patch,\n      name,\n      expressionFunction,\n      ast,\n      runtime,\n      view,\n      handler,\n      hover,\n      _ref2,\n      hoverSet,\n      updateSet,\n      documentClickHandler,\n      wrapper,\n      details,\n      summary,\n      ctrl,\n      _iterator,\n      _step,\n      _loop,\n      viewSourceLink,\n      compileLink,\n      _opts$editorUrl,\n      editorUrl,\n      editorLink,\n      finalize,\n      _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            finalize = function _finalize() {\n              if (documentClickHandler) {\n                document.removeEventListener('click', documentClickHandler);\n              }\n              view.finalize();\n            };\n            opts = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            loader = _args4.length > 3 ? _args4[3] : undefined;\n            config = opts.theme ? mergeConfig(themes[opts.theme], (_opts$config = opts.config) !== null && _opts$config !== void 0 ? _opts$config : {}) : opts.config;\n            actions = isBoolean(opts.actions) ? opts.actions : mergeDeep({}, DEFAULT_ACTIONS, (_opts$actions = opts.actions) !== null && _opts$actions !== void 0 ? _opts$actions : {});\n            i18n = _objectSpread(_objectSpread({}, I18N), opts.i18n);\n            renderer = (_opts$renderer = opts.renderer) !== null && _opts$renderer !== void 0 ? _opts$renderer : 'canvas';\n            logLevel = (_opts$logLevel = opts.logLevel) !== null && _opts$logLevel !== void 0 ? _opts$logLevel : vega.Warn;\n            downloadFileName = (_opts$downloadFileNam = opts.downloadFileName) !== null && _opts$downloadFileNam !== void 0 ? _opts$downloadFileNam : 'visualization';\n            element = typeof el === 'string' ? document.querySelector(el) : el;\n            if (element) {\n              _context4.next = 12;\n              break;\n            }\n            throw new Error(\"\".concat(el, \" does not exist\"));\n          case 12:\n            if (opts.defaultStyle !== false) {\n              ID = 'vega-embed-style';\n              _getRoot = getRoot(element), root = _getRoot.root, rootContainer = _getRoot.rootContainer;\n              if (!root.getElementById(ID)) {\n                style = document.createElement('style');\n                style.id = ID;\n                style.innerHTML = opts.defaultStyle === undefined || opts.defaultStyle === true ? embedStyle.toString() : opts.defaultStyle;\n                rootContainer.appendChild(style);\n              }\n            }\n            mode = guessMode(spec, opts.mode);\n            vgSpec = PREPROCESSOR[mode](spec, config);\n            if (mode === 'vega-lite') {\n              if (vgSpec.$schema) {\n                parsed = schemaParser(vgSpec.$schema);\n                if (!satisfies_1(VERSION.vega, \"^\".concat(parsed.version.slice(1)))) {\n                  console.warn(\"The compiled spec uses Vega \".concat(parsed.version, \", but current version is v\").concat(VERSION.vega, \".\"));\n                }\n              }\n            }\n            element.classList.add('vega-embed');\n            if (actions) {\n              element.classList.add('has-actions');\n            }\n            element.innerHTML = ''; // clear container\n\n            container = element;\n            if (actions) {\n              chartWrapper = document.createElement('div');\n              chartWrapper.classList.add(CHART_WRAPPER_CLASS);\n              element.appendChild(chartWrapper);\n              container = chartWrapper;\n            }\n            patch = opts.patch;\n            if (patch) {\n              vgSpec = patch instanceof Function ? patch(vgSpec) : applyPatch(vgSpec, patch, true, false).newDocument;\n            } // Set locale. Note that this is a global setting.\n\n            if (opts.formatLocale) {\n              vega.formatLocale(opts.formatLocale);\n            }\n            if (opts.timeFormatLocale) {\n              vega.timeFormatLocale(opts.timeFormatLocale);\n            } // Set custom expression functions\n\n            if (opts.expressionFunctions) {\n              for (name in opts.expressionFunctions) {\n                expressionFunction = opts.expressionFunctions[name];\n                if ('fn' in expressionFunction) {\n                  vega.expressionFunction(name, expressionFunction.fn, expressionFunction['visitor']);\n                } else if (expressionFunction instanceof Function) {\n                  vega.expressionFunction(name, expressionFunction);\n                }\n              }\n            }\n            ast = opts.ast; // Do not apply the config to Vega when we have already applied it to Vega-Lite.\n            // This call may throw an Error if parsing fails.\n\n            runtime = vega.parse(vgSpec, mode === 'vega-lite' ? {} : config, {\n              ast: ast\n            });\n            view = new (opts.viewClass || vega.View)(runtime, _objectSpread({\n              loader: loader,\n              logLevel: logLevel,\n              renderer: renderer\n            }, ast ? {\n              expr: (_ref = (_expressionInterprete = vega.expressionInterpreter) !== null && _expressionInterprete !== void 0 ? _expressionInterprete : opts.expr) !== null && _ref !== void 0 ? _ref : expressionInterpreter\n            } : {}));\n            view.addSignalListener('autosize', function (_, autosize) {\n              var type = autosize.type;\n              if (type == 'fit-x') {\n                container.classList.add('fit-x');\n                container.classList.remove('fit-y');\n              } else if (type == 'fit-y') {\n                container.classList.remove('fit-x');\n                container.classList.add('fit-y');\n              } else if (type == 'fit') {\n                container.classList.add('fit-x', 'fit-y');\n              } else {\n                container.classList.remove('fit-x', 'fit-y');\n              }\n            });\n            if (opts.tooltip !== false) {\n              handler = isTooltipHandler(opts.tooltip) ? opts.tooltip :\n              // user provided boolean true or tooltip options\n              new Handler(opts.tooltip === true ? {} : opts.tooltip).call;\n              view.tooltip(handler);\n            }\n            hover = opts.hover;\n            if (hover === undefined) {\n              hover = mode === 'vega';\n            }\n            if (hover) {\n              _ref2 = typeof hover === 'boolean' ? {} : hover, hoverSet = _ref2.hoverSet, updateSet = _ref2.updateSet;\n              view.hover(hoverSet, updateSet);\n            }\n            if (opts) {\n              if (opts.width != null) {\n                view.width(opts.width);\n              }\n              if (opts.height != null) {\n                view.height(opts.height);\n              }\n              if (opts.padding != null) {\n                view.padding(opts.padding);\n              }\n            }\n            _context4.next = 37;\n            return view.initialize(container, opts.bind).runAsync();\n          case 37:\n            if (actions !== false) {\n              wrapper = element;\n              if (opts.defaultStyle !== false) {\n                details = document.createElement('details');\n                details.title = i18n.CLICK_TO_VIEW_ACTIONS;\n                element.append(details);\n                wrapper = details;\n                summary = document.createElement('summary');\n                summary.innerHTML = SVG_CIRCLES;\n                details.append(summary);\n                documentClickHandler = function documentClickHandler(ev) {\n                  if (!details.contains(ev.target)) {\n                    details.removeAttribute('open');\n                  }\n                };\n                document.addEventListener('click', documentClickHandler);\n              }\n              ctrl = document.createElement('div');\n              wrapper.append(ctrl);\n              ctrl.classList.add('vega-actions'); // add 'Export' action\n\n              if (actions === true || actions.export !== false) {\n                _iterator = _createForOfIteratorHelper(['svg', 'png']);\n                try {\n                  _loop = function _loop() {\n                    var ext = _step.value;\n                    if (actions === true || actions.export === true || actions.export[ext]) {\n                      var i18nExportAction = i18n[\"\".concat(ext.toUpperCase(), \"_ACTION\")];\n                      var exportLink = document.createElement('a');\n                      exportLink.text = i18nExportAction;\n                      exportLink.href = '#';\n                      exportLink.target = '_blank';\n                      exportLink.download = \"\".concat(downloadFileName, \".\").concat(ext); // add link on mousedown so that it's correct when the click happens\n\n                      exportLink.addEventListener('mousedown', /*#__PURE__*/function () {\n                        var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n                          var url;\n                          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                            while (1) {\n                              switch (_context3.prev = _context3.next) {\n                                case 0:\n                                  e.preventDefault();\n                                  _context3.next = 3;\n                                  return view.toImageURL(ext, opts.scaleFactor);\n                                case 3:\n                                  url = _context3.sent;\n                                  this.href = url;\n                                case 5:\n                                case \"end\":\n                                  return _context3.stop();\n                              }\n                            }\n                          }, _callee3, this);\n                        }));\n                        return function (_x7) {\n                          return _ref3.apply(this, arguments);\n                        };\n                      }());\n                      ctrl.append(exportLink);\n                    }\n                  };\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _loop();\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              } // add 'View Source' action\n\n              if (actions === true || actions.source !== false) {\n                viewSourceLink = document.createElement('a');\n                viewSourceLink.text = i18n.SOURCE_ACTION;\n                viewSourceLink.href = '#';\n                viewSourceLink.addEventListener('click', function (e) {\n                  var _opts$sourceHeader, _opts$sourceFooter;\n                  viewSource(stringify(spec), (_opts$sourceHeader = opts.sourceHeader) !== null && _opts$sourceHeader !== void 0 ? _opts$sourceHeader : '', (_opts$sourceFooter = opts.sourceFooter) !== null && _opts$sourceFooter !== void 0 ? _opts$sourceFooter : '', mode);\n                  e.preventDefault();\n                });\n                ctrl.append(viewSourceLink);\n              } // add 'View Compiled' action\n\n              if (mode === 'vega-lite' && (actions === true || actions.compiled !== false)) {\n                compileLink = document.createElement('a');\n                compileLink.text = i18n.COMPILED_ACTION;\n                compileLink.href = '#';\n                compileLink.addEventListener('click', function (e) {\n                  var _opts$sourceHeader2, _opts$sourceFooter2;\n                  viewSource(stringify(vgSpec), (_opts$sourceHeader2 = opts.sourceHeader) !== null && _opts$sourceHeader2 !== void 0 ? _opts$sourceHeader2 : '', (_opts$sourceFooter2 = opts.sourceFooter) !== null && _opts$sourceFooter2 !== void 0 ? _opts$sourceFooter2 : '', 'vega');\n                  e.preventDefault();\n                });\n                ctrl.append(compileLink);\n              } // add 'Open in Vega Editor' action\n\n              if (actions === true || actions.editor !== false) {\n                editorUrl = (_opts$editorUrl = opts.editorUrl) !== null && _opts$editorUrl !== void 0 ? _opts$editorUrl : 'https://vega.github.io/editor/';\n                editorLink = document.createElement('a');\n                editorLink.text = i18n.EDITOR_ACTION;\n                editorLink.href = '#';\n                editorLink.addEventListener('click', function (e) {\n                  post(window, editorUrl, {\n                    config: config,\n                    mode: mode,\n                    renderer: renderer,\n                    spec: stringify(spec)\n                  });\n                  e.preventDefault();\n                });\n                ctrl.append(editorLink);\n              }\n            }\n            return _context4.abrupt(\"return\", {\n              view: view,\n              spec: spec,\n              vgSpec: vgSpec,\n              finalize: finalize,\n              embedOptions: opts\n            });\n          case 39:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _embed3.apply(this, arguments);\n}\nexport { DEFAULT_ACTIONS, embed as default, guessMode, vega, _vegaLite as vegaLite, version };","map":{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/yallist/yallist.js","../node_modules/lru-cache/index.js","../node_modules/semver/internal/parse-options.js","../node_modules/semver/internal/constants.js","../node_modules/semver/internal/debug.js","../node_modules/semver/internal/re.js","../node_modules/semver/internal/identifiers.js","../node_modules/semver/classes/semver.js","../node_modules/semver/functions/compare.js","../node_modules/semver/functions/eq.js","../node_modules/semver/functions/neq.js","../node_modules/semver/functions/gt.js","../node_modules/semver/functions/gte.js","../node_modules/semver/functions/lt.js","../node_modules/semver/functions/lte.js","../node_modules/semver/functions/cmp.js","../node_modules/semver/classes/comparator.js","../node_modules/semver/classes/range.js","../node_modules/semver/functions/satisfies.js","../src/post.ts","../src/style.ts","../src/util.ts","../src/embed.ts"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","Op","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","result","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","Yallist","Node","list","tail","head","item","l","removeNode","node","unshiftNode","pushNode","unshift","res","shift","thisp","walker","forEachReverse","get","n","getReverse","map","mapReverse","reduce","initial","acc","reduceReverse","toArray","arr","Array","toArrayReverse","from","to","ret","sliceReverse","splice","start","deleteCount","insert","p","inserted","er","require$$0","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","options","max","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","updateAgeOnGet","mL","trim","allowStale","mA","lengthCalculator","lC","hit","itemCount","rforEach","forEachStep","k","Map","dump","isStale","v","e","now","filter","h","dumpLru","set","Date","len","has","del","Entry","peek","load","expiresAt","prune","doUse","diff","delete","opts","parseOptions","loose","o","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","MAX_SAFE_COMPONENT_LENGTH","debug","process","env","NODE_DEBUG","test","console","require$$1","exports","module","re","src","t","R","createToken","isGlobal","index","RegExp","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","LONECARET","numeric","compareIdentifiers","a","b","anum","bnum","rcompareIdentifiers","require$$2","require$$3","require$$4","SemVer","version","includePrerelease","m","match","LOOSE","FULL","raw","major","minor","patch","prerelease","split","id","num","build","format","join","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","eq","neq","gt","gte","lt","lte","require$$5","cmp","op","ANY","Comparator","comp","parse","semver","operator","r","COMPARATORLOOSE","COMPARATOR","intersects","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comparator","range","parseRange","c","first","isNullSet","isAny","comps","memoOpts","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","replace","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","size","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","LRU","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","pr","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","allowed","satisfies","window","url","data","editor","open","wait","step","origin","URL","count","listen","evt","source","removeEventListener","addEventListener","send","postMessage","setTimeout","String","startsWith","search","pos","substr","mergeDeep","dest","s","deepMerge_","property","writeConfig","pkg","vega","vegaImport","vegaLite","vegaLiteImport","w","vl","compile","DEFAULT_ACTIONS","export","svg","png","compiled","I18N","CLICK_TO_VIEW_ACTIONS","COMPILED_ACTION","EDITOR_ACTION","PNG_ACTION","SOURCE_ACTION","SVG_ACTION","NAMES","VERSION","PREPROCESSOR","vgSpec","vlSpec","config","spec","SVG_CIRCLES","CHART_WRAPPER_CLASS","isTooltipHandler","viewSource","sourceHeader","sourceFooter","mode","header","footer","win","document","write","title","guessMode","providedMode","$schema","parsed","schemaParser","library","warn","isLoader","createLoader","loader","embedOptionsFromUsermeta","parsedSpec","usermeta","embedOptions","isString","defaultStyle","embed","el","JSON","loadedEmbedOptions","usermetaLoader","usermetaOpts","loadOpts","parsedOpts","mergedOpts","mergeConfig","_embed","opt","getRoot","possibleRoot","getRootNode","ShadowRoot","root","rootContainer","body","theme","themes","actions","isBoolean","i18n","renderer","logLevel","Warn","downloadFileName","element","querySelector","ID","getElementById","style","createElement","innerHTML","embedStyle","appendChild","classList","add","container","chartWrapper","Function","applyPatch","newDocument","formatLocale","timeFormatLocale","expressionFunctions","expressionFunction","ast","runtime","view","viewClass","View","expr","expressionInterpreter","addSignalListener","autosize","remove","tooltip","handler","Handler","hover","hoverSet","updateSet","width","height","padding","initialize","bind","runAsync","wrapper","details","append","summary","documentClickHandler","ev","contains","target","removeAttribute","ctrl","ext","i18nExportAction","toUpperCase","exportLink","text","href","download","preventDefault","toImageURL","scaleFactor","viewSourceLink","stringify","compileLink","editorUrl","editorLink","post","finalize"],"mappings":"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","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\"use strict\";\n\nvar Op = Object.prototype;\nvar hasOwn = Op.hasOwnProperty;\nvar undefined; // More compressible than void 0.\nvar $Symbol = typeof Symbol === \"function\" ? Symbol : {};\nvar iteratorSymbol = $Symbol.iterator || \"@@iterator\";\nvar asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\nvar toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\nfunction wrap(innerFn, outerFn, self, tryLocsList) {\n  // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n  var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n  var generator = Object.create(protoGenerator.prototype);\n  var context = new Context(tryLocsList || []);\n\n  // The ._invoke method unifies the implementations of the .next,\n  // .throw, and .return methods.\n  generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n  return generator;\n}\n\n// Try/catch helper to minimize deoptimizations. Returns a completion\n// record like context.tryEntries[i].completion. This interface could\n// have been (and was previously) designed to take a closure to be\n// invoked without arguments, but in all the cases we care about we\n// already have an existing method we want to call, so there's no need\n// to create a new function object. We can even get away with assuming\n// the method takes exactly one argument, since that happens to be true\n// in every case, so we don't have to touch the arguments object. The\n// only additional allocation required is the completion record, which\n// has a stable shape and so hopefully should be cheap to allocate.\nfunction tryCatch(fn, obj, arg) {\n  try {\n    return { type: \"normal\", arg: fn.call(obj, arg) };\n  } catch (err) {\n    return { type: \"throw\", arg: err };\n  }\n}\n\nvar GenStateSuspendedStart = \"suspendedStart\";\nvar GenStateSuspendedYield = \"suspendedYield\";\nvar GenStateExecuting = \"executing\";\nvar GenStateCompleted = \"completed\";\n\n// Returning this object from the innerFn has the same effect as\n// breaking out of the dispatch switch statement.\nvar ContinueSentinel = {};\n\n// Dummy constructor functions that we use as the .constructor and\n// .constructor.prototype properties for functions that return Generator\n// objects. For full spec compliance, you may wish to configure your\n// minifier not to mangle the names of these two functions.\nfunction Generator() {}\nfunction GeneratorFunction() {}\nfunction GeneratorFunctionPrototype() {}\n\n// This is a polyfill for %IteratorPrototype% for environments that\n// don't natively support it.\nvar IteratorPrototype = {};\nIteratorPrototype[iteratorSymbol] = function () {\n  return this;\n};\n\nvar getProto = Object.getPrototypeOf;\nvar NativeIteratorPrototype = getProto && getProto(getProto(values([])));\nif (NativeIteratorPrototype &&\n  NativeIteratorPrototype !== Op &&\n  hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n  // This environment has a native %IteratorPrototype%; use it instead\n  // of the polyfill.\n  IteratorPrototype = NativeIteratorPrototype;\n}\n\nvar Gp = GeneratorFunctionPrototype.prototype =\n  Generator.prototype = Object.create(IteratorPrototype);\nGeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\nGeneratorFunctionPrototype.constructor = GeneratorFunction;\nGeneratorFunctionPrototype[toStringTagSymbol] =\n  GeneratorFunction.displayName = \"GeneratorFunction\";\n\n// Helper for defining the .next, .throw, and .return methods of the\n// Iterator interface in terms of a single ._invoke method.\nfunction defineIteratorMethods(prototype) {\n  [\"next\", \"throw\", \"return\"].forEach(function(method) {\n    prototype[method] = function(arg) {\n      return this._invoke(method, arg);\n    };\n  });\n}\n\nfunction isGeneratorFunction (genFun) {\n  var ctor = typeof genFun === \"function\" && genFun.constructor;\n  return ctor\n    ? ctor === GeneratorFunction ||\n    // For the native GeneratorFunction constructor, the best we can\n    // do is to check its .name property.\n    (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n    : false;\n};\n\nfunction mark (genFun) {\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n  } else {\n    genFun.__proto__ = GeneratorFunctionPrototype;\n    if (!(toStringTagSymbol in genFun)) {\n      genFun[toStringTagSymbol] = \"GeneratorFunction\";\n    }\n  }\n  genFun.prototype = Object.create(Gp);\n  return genFun;\n};\n\n// Within the body of any async function, `await x` is transformed to\n// `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n// `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n// meant to be awaited.\nfunction awrap (arg) {\n  return { __await: arg };\n};\n\nfunction AsyncIterator(generator, PromiseImpl) {\n  function invoke(method, arg, resolve, reject) {\n    var record = tryCatch(generator[method], generator, arg);\n    if (record.type === \"throw\") {\n      reject(record.arg);\n    } else {\n      var result = record.arg;\n      var value = result.value;\n      if (value &&\n        typeof value === \"object\" &&\n        hasOwn.call(value, \"__await\")) {\n        return PromiseImpl.resolve(value.__await).then(function(value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function(err) {\n          invoke(\"throw\", err, resolve, reject);\n        });\n      }\n\n      return PromiseImpl.resolve(value).then(function(unwrapped) {\n        // When a yielded Promise is resolved, its final value becomes\n        // the .value of the Promise<{value,done}> result for the\n        // current iteration.\n        result.value = unwrapped;\n        resolve(result);\n      }, function(error) {\n        // If a rejected Promise was yielded, throw the rejection back\n        // into the async generator function so it can be handled there.\n        return invoke(\"throw\", error, resolve, reject);\n      });\n    }\n  }\n\n  var previousPromise;\n\n  function enqueue(method, arg) {\n    function callInvokeWithMethodAndArg() {\n      return new PromiseImpl(function(resolve, reject) {\n        invoke(method, arg, resolve, reject);\n      });\n    }\n\n    return previousPromise =\n      // If enqueue has been called before, then we want to wait until\n      // all previous Promises have been resolved before calling invoke,\n      // so that results are always delivered in the correct order. If\n      // enqueue has not been called before, then it is important to\n      // call invoke immediately, without waiting on a callback to fire,\n      // so that the async generator function has the opportunity to do\n      // any necessary setup in a predictable way. This predictability\n      // is why the Promise constructor synchronously invokes its\n      // executor callback, and why async functions synchronously\n      // execute code before the first await. Since we implement simple\n      // async functions in terms of async generators, it is especially\n      // important to get this right, even though it requires care.\n      previousPromise ? previousPromise.then(\n        callInvokeWithMethodAndArg,\n        // Avoid propagating failures to Promises returned by later\n        // invocations of the iterator.\n        callInvokeWithMethodAndArg\n      ) : callInvokeWithMethodAndArg();\n  }\n\n  // Define the unified helper method that is used to implement .next,\n  // .throw, and .return (see defineIteratorMethods).\n  this._invoke = enqueue;\n}\n\ndefineIteratorMethods(AsyncIterator.prototype);\nAsyncIterator.prototype[asyncIteratorSymbol] = function () {\n  return this;\n};\n\n// Note that simple async functions are implemented on top of\n// AsyncIterator objects; they just return a Promise for the value of\n// the final result produced by the iterator.\n function async (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n  if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n  var iter = new AsyncIterator(\n    wrap(innerFn, outerFn, self, tryLocsList),\n    PromiseImpl\n  );\n\n  return isGeneratorFunction(outerFn)\n    ? iter // If outerFn is a generator, return the full iterator.\n    : iter.next().then(function(result) {\n      return result.done ? result.value : iter.next();\n    });\n};\n\nfunction makeInvokeMethod(innerFn, self, context) {\n  var state = GenStateSuspendedStart;\n\n  return function invoke(method, arg) {\n    if (state === GenStateExecuting) {\n      throw new Error(\"Generator is already running\");\n    }\n\n    if (state === GenStateCompleted) {\n      if (method === \"throw\") {\n        throw arg;\n      }\n\n      // Be forgiving, per 25.3.3.3.3 of the spec:\n      // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n      return doneResult();\n    }\n\n    context.method = method;\n    context.arg = arg;\n\n    while (true) {\n      var delegate = context.delegate;\n      if (delegate) {\n        var delegateResult = maybeInvokeDelegate(delegate, context);\n        if (delegateResult) {\n          if (delegateResult === ContinueSentinel) continue;\n          return delegateResult;\n        }\n      }\n\n      if (context.method === \"next\") {\n        // Setting context._sent for legacy support of Babel's\n        // function.sent implementation.\n        context.sent = context._sent = context.arg;\n\n      } else if (context.method === \"throw\") {\n        if (state === GenStateSuspendedStart) {\n          state = GenStateCompleted;\n          throw context.arg;\n        }\n\n        context.dispatchException(context.arg);\n\n      } else if (context.method === \"return\") {\n        context.abrupt(\"return\", context.arg);\n      }\n\n      state = GenStateExecuting;\n\n      var record = tryCatch(innerFn, self, context);\n      if (record.type === \"normal\") {\n        // If an exception is thrown from innerFn, we leave state ===\n        // GenStateExecuting and loop back for another invocation.\n        state = context.done\n          ? GenStateCompleted\n          : GenStateSuspendedYield;\n\n        if (record.arg === ContinueSentinel) {\n          continue;\n        }\n\n        return {\n          value: record.arg,\n          done: context.done\n        };\n\n      } else if (record.type === \"throw\") {\n        state = GenStateCompleted;\n        // Dispatch the exception by looping back around to the\n        // context.dispatchException(context.arg) call above.\n        context.method = \"throw\";\n        context.arg = record.arg;\n      }\n    }\n  };\n}\n\n// Call delegate.iterator[context.method](context.arg) and handle the\n// result, either by returning a { value, done } result from the\n// delegate iterator, or by modifying context.method and context.arg,\n// setting context.delegate to null, and returning the ContinueSentinel.\nfunction maybeInvokeDelegate(delegate, context) {\n  var method = delegate.iterator[context.method];\n  if (method === undefined) {\n    // A .throw or .return when the delegate iterator has no .throw\n    // method always terminates the yield* loop.\n    context.delegate = null;\n\n    if (context.method === \"throw\") {\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n\n      context.method = \"throw\";\n      context.arg = new TypeError(\n        \"The iterator does not provide a 'throw' method\");\n    }\n\n    return ContinueSentinel;\n  }\n\n  var record = tryCatch(method, delegate.iterator, context.arg);\n\n  if (record.type === \"throw\") {\n    context.method = \"throw\";\n    context.arg = record.arg;\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  var info = record.arg;\n\n  if (! info) {\n    context.method = \"throw\";\n    context.arg = new TypeError(\"iterator result is not an object\");\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  if (info.done) {\n    // Assign the result of the finished delegate to the temporary\n    // variable specified by delegate.resultName (see delegateYield).\n    context[delegate.resultName] = info.value;\n\n    // Resume execution at the desired location (see delegateYield).\n    context.next = delegate.nextLoc;\n\n    // If context.method was \"throw\" but the delegate handled the\n    // exception, let the outer generator proceed normally. If\n    // context.method was \"next\", forget context.arg since it has been\n    // \"consumed\" by the delegate iterator. If context.method was\n    // \"return\", allow the original .return call to continue in the\n    // outer generator.\n    if (context.method !== \"return\") {\n      context.method = \"next\";\n      context.arg = undefined;\n    }\n\n  } else {\n    // Re-yield the result returned by the delegate method.\n    return info;\n  }\n\n  // The delegate iterator is finished, so forget it and continue with\n  // the outer generator.\n  context.delegate = null;\n  return ContinueSentinel;\n}\n\n// Define Generator.prototype.{next,throw,return} in terms of the\n// unified ._invoke helper method.\ndefineIteratorMethods(Gp);\n\nGp[toStringTagSymbol] = \"Generator\";\n\n// A Generator should always return itself as the iterator object when the\n// @@iterator function is called on it. Some browsers' implementations of the\n// iterator prototype chain incorrectly implement this, causing the Generator\n// object to not be returned from this call. This ensures that doesn't happen.\n// See https://github.com/facebook/regenerator/issues/274 for more details.\nGp[iteratorSymbol] = function() {\n  return this;\n};\n\nGp.toString = function() {\n  return \"[object Generator]\";\n};\n\nfunction pushTryEntry(locs) {\n  var entry = { tryLoc: locs[0] };\n\n  if (1 in locs) {\n    entry.catchLoc = locs[1];\n  }\n\n  if (2 in locs) {\n    entry.finallyLoc = locs[2];\n    entry.afterLoc = locs[3];\n  }\n\n  this.tryEntries.push(entry);\n}\n\nfunction resetTryEntry(entry) {\n  var record = entry.completion || {};\n  record.type = \"normal\";\n  delete record.arg;\n  entry.completion = record;\n}\n\nfunction Context(tryLocsList) {\n  // The root entry object (effectively a try statement without a catch\n  // or a finally block) gives us a place to store values thrown from\n  // locations where there is no enclosing try statement.\n  this.tryEntries = [{ tryLoc: \"root\" }];\n  tryLocsList.forEach(pushTryEntry, this);\n  this.reset(true);\n}\n\nfunction keys (object) {\n  var keys = [];\n  for (var key in object) {\n    keys.push(key);\n  }\n  keys.reverse();\n\n  // Rather than returning an object with a next method, we keep\n  // things simple and return the next function itself.\n  return function next() {\n    while (keys.length) {\n      var key = keys.pop();\n      if (key in object) {\n        next.value = key;\n        next.done = false;\n        return next;\n      }\n    }\n\n    // To avoid creating an additional object, we just hang the .value\n    // and .done properties off the next function object itself. This\n    // also ensures that the minifier will not anonymize the function.\n    next.done = true;\n    return next;\n  };\n};\n\nfunction values(iterable) {\n  if (iterable) {\n    var iteratorMethod = iterable[iteratorSymbol];\n    if (iteratorMethod) {\n      return iteratorMethod.call(iterable);\n    }\n\n    if (typeof iterable.next === \"function\") {\n      return iterable;\n    }\n\n    if (!isNaN(iterable.length)) {\n      var i = -1, next = function next() {\n        while (++i < iterable.length) {\n          if (hasOwn.call(iterable, i)) {\n            next.value = iterable[i];\n            next.done = false;\n            return next;\n          }\n        }\n\n        next.value = undefined;\n        next.done = true;\n\n        return next;\n      };\n\n      return next.next = next;\n    }\n  }\n\n  // Return an iterator with no values.\n  return { next: doneResult };\n}\n\nfunction doneResult() {\n  return { value: undefined, done: true };\n}\n\nContext.prototype = {\n  constructor: Context,\n\n  reset: function(skipTempReset) {\n    this.prev = 0;\n    this.next = 0;\n    // Resetting context._sent for legacy support of Babel's\n    // function.sent implementation.\n    this.sent = this._sent = undefined;\n    this.done = false;\n    this.delegate = null;\n\n    this.method = \"next\";\n    this.arg = undefined;\n\n    this.tryEntries.forEach(resetTryEntry);\n\n    if (!skipTempReset) {\n      for (var name in this) {\n        // Not sure about the optimal order of these conditions:\n        if (name.charAt(0) === \"t\" &&\n          hasOwn.call(this, name) &&\n          !isNaN(+name.slice(1))) {\n          this[name] = undefined;\n        }\n      }\n    }\n  },\n\n  stop: function() {\n    this.done = true;\n\n    var rootEntry = this.tryEntries[0];\n    var rootRecord = rootEntry.completion;\n    if (rootRecord.type === \"throw\") {\n      throw rootRecord.arg;\n    }\n\n    return this.rval;\n  },\n\n  dispatchException: function(exception) {\n    if (this.done) {\n      throw exception;\n    }\n\n    var context = this;\n    function handle(loc, caught) {\n      record.type = \"throw\";\n      record.arg = exception;\n      context.next = loc;\n\n      if (caught) {\n        // If the dispatched exception was caught by a catch block,\n        // then let that catch block handle the exception normally.\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n      return !! caught;\n    }\n\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      var record = entry.completion;\n\n      if (entry.tryLoc === \"root\") {\n        // Exception thrown outside of any try block that could handle\n        // it, so set the completion value of the entire function to\n        // throw the exception.\n        return handle(\"end\");\n      }\n\n      if (entry.tryLoc <= this.prev) {\n        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n        if (hasCatch && hasFinally) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          } else if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else if (hasCatch) {\n          if (this.prev < entry.catchLoc) {\n            return handle(entry.catchLoc, true);\n          }\n\n        } else if (hasFinally) {\n          if (this.prev < entry.finallyLoc) {\n            return handle(entry.finallyLoc);\n          }\n\n        } else {\n          throw new Error(\"try statement without catch or finally\");\n        }\n      }\n    }\n  },\n\n  abrupt: function(type, arg) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc <= this.prev &&\n        hasOwn.call(entry, \"finallyLoc\") &&\n        this.prev < entry.finallyLoc) {\n        var finallyEntry = entry;\n        break;\n      }\n    }\n\n    if (finallyEntry &&\n      (type === \"break\" ||\n        type === \"continue\") &&\n      finallyEntry.tryLoc <= arg &&\n      arg <= finallyEntry.finallyLoc) {\n      // Ignore the finally entry if control is not jumping to a\n      // location outside the try/catch block.\n      finallyEntry = null;\n    }\n\n    var record = finallyEntry ? finallyEntry.completion : {};\n    record.type = type;\n    record.arg = arg;\n\n    if (finallyEntry) {\n      this.method = \"next\";\n      this.next = finallyEntry.finallyLoc;\n      return ContinueSentinel;\n    }\n\n    return this.complete(record);\n  },\n\n  complete: function(record, afterLoc) {\n    if (record.type === \"throw\") {\n      throw record.arg;\n    }\n\n    if (record.type === \"break\" ||\n      record.type === \"continue\") {\n      this.next = record.arg;\n    } else if (record.type === \"return\") {\n      this.rval = this.arg = record.arg;\n      this.method = \"return\";\n      this.next = \"end\";\n    } else if (record.type === \"normal\" && afterLoc) {\n      this.next = afterLoc;\n    }\n\n    return ContinueSentinel;\n  },\n\n  finish: function(finallyLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.finallyLoc === finallyLoc) {\n        this.complete(entry.completion, entry.afterLoc);\n        resetTryEntry(entry);\n        return ContinueSentinel;\n      }\n    }\n  },\n\n  \"catch\": function(tryLoc) {\n    for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n      var entry = this.tryEntries[i];\n      if (entry.tryLoc === tryLoc) {\n        var record = entry.completion;\n        if (record.type === \"throw\") {\n          var thrown = record.arg;\n          resetTryEntry(entry);\n        }\n        return thrown;\n      }\n    }\n\n    // The context.catch method must only be called with a location\n    // argument that corresponds to a known catch block.\n    throw new Error(\"illegal catch attempt\");\n  },\n\n  delegateYield: function(iterable, resultName, nextLoc) {\n    this.delegate = {\n      iterator: values(iterable),\n      resultName: resultName,\n      nextLoc: nextLoc\n    };\n\n    if (this.method === \"next\") {\n      // Deliberately forget the last sent value so that we don't\n      // accidentally pass it on to the delegate.\n      this.arg = undefined;\n    }\n\n    return ContinueSentinel;\n  }\n};\n\n// Export a default namespace that plays well with Rollup\nexport default {\n  wrap,\n  isGeneratorFunction,\n  AsyncIterator,\n  mark,\n  awrap,\n  async,\n  keys,\n  values\n};\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n} catch (er) {}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((o, k) => {\n    o[k] = true\n    return o\n  }, {})\nmodule.exports = parseOptions\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false,\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceTilde(c, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((c) => {\n    return replaceCaret(c, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((c) => {\n    return replaceXRange(c, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","import {MessageData} from './types';\n\n/**\n * Open editor url in a new window, and pass a message.\n */\nexport default function (window: Window, url: string, data: MessageData) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const editor = window.open(url)!;\n  const wait = 10_000;\n  const step = 250;\n  const {origin} = new URL(url);\n  // eslint-disable-next-line no-bitwise\n  let count = ~~(wait / step);\n\n  function listen(evt: MessageEvent) {\n    if (evt.source === editor) {\n      count = 0;\n      window.removeEventListener('message', listen, false);\n    }\n  }\n  window.addEventListener('message', listen, false);\n\n  // send message\n  // periodically resend until ack received or timeout\n  function send() {\n    if (count <= 0) {\n      return;\n    }\n    editor.postMessage(data, origin);\n    setTimeout(send, step);\n    count -= 1;\n  }\n  setTimeout(send, step);\n}\n","// generated with build-style.sh\nexport default `.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) > :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: \"\";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n`;\n","import {writeConfig} from 'vega';\n\n// polyfill for IE\nif (!String.prototype.startsWith) {\n  // eslint-disable-next-line no-extend-native,func-names\n  String.prototype.startsWith = function (search, pos) {\n    return this.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n  };\n}\n\nexport function isURL(s: string): boolean {\n  return s.startsWith('http://') || s.startsWith('https://') || s.startsWith('//');\n}\n\nexport type DeepPartial<T> = {[P in keyof T]?: P extends unknown ? unknown : DeepPartial<T[P]>};\n\nexport function mergeDeep<T>(dest: T, ...src: readonly DeepPartial<T>[]): T {\n  for (const s of src) {\n    deepMerge_(dest, s);\n  }\n  return dest;\n}\n\nfunction deepMerge_(dest: any, src: any) {\n  for (const property of Object.keys(src)) {\n    writeConfig(dest, property, src[property], true);\n  }\n}\n","import {applyPatch, Operation} from 'fast-json-patch';\nimport stringify from 'json-stringify-pretty-compact';\n// need this import because of https://github.com/npm/node-semver/issues/381\nimport satisfies from 'semver/functions/satisfies';\nimport * as vegaImport from 'vega';\nimport {\n  AutoSize,\n  Config as VgConfig,\n  EncodeEntryName,\n  isBoolean,\n  isString,\n  Loader,\n  LoaderOptions,\n  mergeConfig,\n  Renderers,\n  Spec as VgSpec,\n  TooltipHandler,\n  View,\n} from 'vega';\nimport {expressionInterpreter} from 'vega-interpreter';\nimport * as vegaLiteImport from 'vega-lite';\nimport {Config as VlConfig, TopLevelSpec as VlSpec} from 'vega-lite';\nimport schemaParser from 'vega-schema-url-parser';\nimport * as themes from 'vega-themes';\nimport {Handler, Options as TooltipOptions} from 'vega-tooltip';\nimport post from './post';\nimport embedStyle from './style';\nimport {Config, ExpressionFunction, Mode} from './types';\nimport {mergeDeep} from './util';\nimport pkg from '../package.json';\n\nexport const version = pkg.version;\n\nexport * from './types';\n\nexport const vega = vegaImport;\nexport let vegaLite = vegaLiteImport;\n\n// For backwards compatibility with Vega-Lite before v4.\nconst w = (typeof window !== 'undefined' ? window : undefined) as any;\nif (vegaLite === undefined && w?.vl?.compile) {\n  vegaLite = w.vl;\n}\n\nexport interface Actions {\n  export?: boolean | {svg?: boolean; png?: boolean};\n  source?: boolean;\n  compiled?: boolean;\n  editor?: boolean;\n}\n\nexport const DEFAULT_ACTIONS = {export: {svg: true, png: true}, source: true, compiled: true, editor: true};\n\nexport interface Hover {\n  hoverSet?: EncodeEntryName;\n  updateSet?: EncodeEntryName;\n}\n\nexport type PatchFunc = (spec: VgSpec) => VgSpec;\n\nconst I18N = {\n  CLICK_TO_VIEW_ACTIONS: 'Click to view actions',\n  COMPILED_ACTION: 'View Compiled Vega',\n  EDITOR_ACTION: 'Open in Vega Editor',\n  PNG_ACTION: 'Save as PNG',\n  SOURCE_ACTION: 'View Source',\n  SVG_ACTION: 'Save as SVG',\n};\n\nexport interface EmbedOptions<S = string, R = Renderers> {\n  bind?: HTMLElement | string;\n  actions?: boolean | Actions;\n  mode?: Mode;\n  theme?: 'excel' | 'ggplot2' | 'quartz' | 'vox' | 'dark';\n  defaultStyle?: boolean | string;\n  logLevel?: number;\n  loader?: Loader | LoaderOptions;\n  renderer?: R;\n  tooltip?: TooltipHandler | TooltipOptions | boolean;\n  patch?: S | PatchFunc | Operation[];\n  width?: number;\n  height?: number;\n  padding?: number | {left?: number; right?: number; top?: number; bottom?: number};\n  scaleFactor?: number;\n  config?: S | Config;\n  sourceHeader?: string;\n  sourceFooter?: string;\n  editorUrl?: string;\n  hover?: boolean | Hover;\n  i18n?: Partial<typeof I18N>;\n  downloadFileName?: string;\n  formatLocale?: Record<string, unknown>;\n  timeFormatLocale?: Record<string, unknown>;\n  expressionFunctions?: ExpressionFunction;\n  ast?: boolean;\n  expr?: typeof expressionInterpreter;\n  viewClass?: typeof View;\n}\n\nconst NAMES: {[key in Mode]: string} = {\n  vega: 'Vega',\n  'vega-lite': 'Vega-Lite',\n};\n\nconst VERSION = {\n  vega: vega.version,\n  'vega-lite': vegaLite ? vegaLite.version : 'not available',\n};\n\nconst PREPROCESSOR: {[mode in Mode]: (spec: any, config?: Config) => VgSpec} = {\n  vega: (vgSpec: VgSpec) => vgSpec,\n  'vega-lite': (vlSpec, config) => vegaLite.compile(vlSpec as VlSpec, {config: config as VlConfig}).spec,\n};\n\nconst SVG_CIRCLES = `\n<svg viewBox=\"0 0 16 16\" fill=\"currentColor\" stroke=\"none\" stroke-width=\"1\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n  <circle r=\"2\" cy=\"8\" cx=\"2\"></circle>\n  <circle r=\"2\" cy=\"8\" cx=\"8\"></circle>\n  <circle r=\"2\" cy=\"8\" cx=\"14\"></circle>\n</svg>`;\n\nconst CHART_WRAPPER_CLASS = 'chart-wrapper';\n\nexport type VisualizationSpec = VlSpec | VgSpec;\n\nexport interface Result {\n  /** The Vega view. */\n  view: View;\n\n  /** The input specification. */\n  spec: VisualizationSpec;\n\n  /** The compiled and patched Vega specification. */\n  vgSpec: VgSpec;\n\n  /** The Vega-Embed options. */\n  embedOptions: EmbedOptions;\n\n  /** Removes references to unwanted behaviors and memory leaks. Calls Vega's `view.finalize`.  */\n  finalize: () => void;\n}\n\nfunction isTooltipHandler(h?: boolean | TooltipOptions | TooltipHandler): h is TooltipHandler {\n  return typeof h === 'function';\n}\n\nfunction viewSource(source: string, sourceHeader: string, sourceFooter: string, mode: Mode) {\n  const header = `<html><head>${sourceHeader}</head><body><pre><code class=\"json\">`;\n  const footer = `</code></pre>${sourceFooter}</body></html>`;\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const win = window.open('')!;\n  win.document.write(header + source + footer);\n  win.document.title = `${NAMES[mode]} JSON Source`;\n}\n\n/**\n * Try to guess the type of spec.\n *\n * @param spec Vega or Vega-Lite spec.\n */\nexport function guessMode(spec: VisualizationSpec, providedMode?: Mode): Mode {\n  // Decide mode\n  if (spec.$schema) {\n    const parsed = schemaParser(spec.$schema);\n    if (providedMode && providedMode !== parsed.library) {\n      console.warn(\n        `The given visualization spec is written in ${NAMES[parsed.library]}, but mode argument sets ${NAMES[providedMode] ?? providedMode\n        }.`\n      );\n    }\n\n    const mode = parsed.library as Mode;\n\n    if (!satisfies(VERSION[mode], `^${parsed.version.slice(1)}`)) {\n      console.warn(\n        `The input spec uses ${NAMES[mode]} ${parsed.version}, but the current version of ${NAMES[mode]} is v${VERSION[mode]}.`\n      );\n    }\n\n    return mode;\n  }\n\n  // try to guess from the provided spec\n  if (\n    'mark' in spec ||\n    'encoding' in spec ||\n    'layer' in spec ||\n    'hconcat' in spec ||\n    'vconcat' in spec ||\n    'facet' in spec ||\n    'repeat' in spec\n  ) {\n    return 'vega-lite';\n  }\n\n  if ('marks' in spec || 'signals' in spec || 'scales' in spec || 'axes' in spec) {\n    return 'vega';\n  }\n\n  return providedMode ?? 'vega';\n}\n\nfunction isLoader(o?: LoaderOptions | Loader): o is Loader {\n  return !!(o && 'load' in o);\n}\n\nfunction createLoader(opts?: Loader | LoaderOptions) {\n  return isLoader(opts) ? opts : vega.loader(opts);\n}\n\nfunction embedOptionsFromUsermeta(parsedSpec: VisualizationSpec) {\n  const opts = (parsedSpec.usermeta as any)?.embedOptions ?? {};\n  if (isString(opts.defaultStyle)) {\n    // we don't allow styles set via usermeta since it would allow injection of logic (we set the style via innerHTML)\n    opts.defaultStyle = false;\n  }\n  return opts;\n}\n\n/**\n * Embed a Vega visualization component in a web page. This function returns a promise.\n *\n * @param el        DOM element in which to place component (DOM node or CSS selector).\n * @param spec      String : A URL string from which to load the Vega specification.\n *                  Object : The Vega/Vega-Lite specification as a parsed JSON object.\n * @param opts       A JavaScript object containing options for embedding.\n */\nexport default async function embed(\n  el: HTMLElement | string,\n  spec: VisualizationSpec | string,\n  opts: EmbedOptions = {}\n): Promise<Result> {\n  let parsedSpec: VisualizationSpec;\n  let loader: Loader | undefined;\n\n  if (isString(spec)) {\n    loader = createLoader(opts.loader);\n    parsedSpec = JSON.parse(await loader.load(spec));\n  } else {\n    parsedSpec = spec;\n  }\n\n  const loadedEmbedOptions = embedOptionsFromUsermeta(parsedSpec);\n  const usermetaLoader = loadedEmbedOptions.loader;\n\n  // either create the loader for the first time or create a new loader if the spec has new loader options\n  if (!loader || usermetaLoader) {\n    loader = createLoader(opts.loader ?? usermetaLoader);\n  }\n\n  const usermetaOpts = await loadOpts(loadedEmbedOptions, loader);\n  const parsedOpts = await loadOpts(opts, loader);\n\n  const mergedOpts = {\n    ...mergeDeep(parsedOpts, usermetaOpts),\n    config: mergeConfig(parsedOpts.config ?? {}, usermetaOpts.config ?? {}),\n  };\n\n  return await _embed(el, parsedSpec, mergedOpts, loader);\n}\n\nasync function loadOpts(opt: EmbedOptions, loader: Loader): Promise<EmbedOptions<never>> {\n  const config: Config = isString(opt.config) ? JSON.parse(await loader.load(opt.config)) : opt.config ?? {};\n  const patch: PatchFunc | Operation[] = isString(opt.patch) ? JSON.parse(await loader.load(opt.patch)) : opt.patch;\n  return {\n    ...(opt as any),\n    ...(patch ? {patch} : {}),\n    ...(config ? {config} : {}),\n  };\n}\n\nfunction getRoot(el: Element) {\n  const possibleRoot = el.getRootNode ? el.getRootNode() : document;\n  return possibleRoot instanceof ShadowRoot\n    ? {root: possibleRoot, rootContainer: possibleRoot}\n    : {root: document, rootContainer: document.head ?? document.body};\n}\n\nasync function _embed(\n  el: HTMLElement | string,\n  spec: VisualizationSpec,\n  opts: EmbedOptions<never> = {},\n  loader: Loader\n): Promise<Result> {\n  const config = opts.theme ? mergeConfig(themes[opts.theme], opts.config ?? {}) : opts.config;\n\n  const actions = isBoolean(opts.actions) ? opts.actions : mergeDeep<Actions>({}, DEFAULT_ACTIONS, opts.actions ?? {});\n  const i18n = {...I18N, ...opts.i18n};\n\n  const renderer = opts.renderer ?? 'canvas';\n  const logLevel = opts.logLevel ?? vega.Warn;\n  const downloadFileName = opts.downloadFileName ?? 'visualization';\n\n  const element = typeof el === 'string' ? document.querySelector(el) : el;\n  if (!element) {\n    throw new Error(`${el} does not exist`);\n  }\n\n  if (opts.defaultStyle !== false) {\n    const ID = 'vega-embed-style';\n    const {root, rootContainer} = getRoot(element);\n    if (!root.getElementById(ID)) {\n      const style = document.createElement('style');\n      style.id = ID;\n      style.innerHTML =\n        opts.defaultStyle === undefined || opts.defaultStyle === true\n          ? (embedStyle ?? '').toString()\n          : opts.defaultStyle;\n      rootContainer.appendChild(style);\n    }\n  }\n\n  const mode = guessMode(spec, opts.mode);\n\n  let vgSpec: VgSpec = PREPROCESSOR[mode](spec, config);\n\n  if (mode === 'vega-lite') {\n    if (vgSpec.$schema) {\n      const parsed = schemaParser(vgSpec.$schema);\n\n      if (!satisfies(VERSION.vega, `^${parsed.version.slice(1)}`)) {\n        console.warn(`The compiled spec uses Vega ${parsed.version}, but current version is v${VERSION.vega}.`);\n      }\n    }\n  }\n\n  element.classList.add('vega-embed');\n  if (actions) {\n    element.classList.add('has-actions');\n  }\n  element.innerHTML = ''; // clear container\n\n  let container = element;\n  if (actions) {\n    const chartWrapper = document.createElement('div');\n    chartWrapper.classList.add(CHART_WRAPPER_CLASS);\n    element.appendChild(chartWrapper);\n    container = chartWrapper;\n  }\n\n  const patch = opts.patch;\n  if (patch) {\n    vgSpec = patch instanceof Function ? patch(vgSpec) : applyPatch(vgSpec, patch, true, false).newDocument;\n  }\n\n  // Set locale. Note that this is a global setting.\n  if (opts.formatLocale) {\n    vega.formatLocale(opts.formatLocale);\n  }\n\n  if (opts.timeFormatLocale) {\n    vega.timeFormatLocale(opts.timeFormatLocale);\n  }\n\n  // Set custom expression functions\n  if (opts.expressionFunctions) {\n    for (const name in opts.expressionFunctions) {\n      const expressionFunction = opts.expressionFunctions[name];\n      if ('fn' in expressionFunction) {\n        vega.expressionFunction(name, expressionFunction.fn, expressionFunction['visitor']);\n      } else if (expressionFunction instanceof Function) {\n        vega.expressionFunction(name, expressionFunction);\n      }\n    }\n  }\n\n  const {ast} = opts;\n\n  // Do not apply the config to Vega when we have already applied it to Vega-Lite.\n  // This call may throw an Error if parsing fails.\n  const runtime = vega.parse(vgSpec, mode === 'vega-lite' ? {} : (config as VgConfig), {ast});\n\n  const view = new (opts.viewClass || vega.View)(runtime, {\n    loader,\n    logLevel,\n    renderer,\n    ...(ast ? {expr: (vega as any).expressionInterpreter ?? opts.expr ?? expressionInterpreter} : {}),\n  });\n\n  view.addSignalListener('autosize', (_, autosize: Exclude<AutoSize, string>) => {\n    const {type} = autosize;\n    if (type == 'fit-x') {\n      container.classList.add('fit-x');\n      container.classList.remove('fit-y');\n    } else if (type == 'fit-y') {\n      container.classList.remove('fit-x');\n      container.classList.add('fit-y');\n    } else if (type == 'fit') {\n      container.classList.add('fit-x', 'fit-y');\n    } else {\n      container.classList.remove('fit-x', 'fit-y');\n    }\n  });\n\n  if (opts.tooltip !== false) {\n    const handler = isTooltipHandler(opts.tooltip)\n      ? opts.tooltip\n      : // user provided boolean true or tooltip options\n      new Handler(opts.tooltip === true ? {} : opts.tooltip).call;\n\n    view.tooltip(handler);\n  }\n\n  let {hover} = opts;\n\n  if (hover === undefined) {\n    hover = mode === 'vega';\n  }\n\n  if (hover) {\n    const {hoverSet, updateSet} = (typeof hover === 'boolean' ? {} : hover) as Hover;\n\n    view.hover(hoverSet, updateSet);\n  }\n\n  if (opts) {\n    if (opts.width != null) {\n      view.width(opts.width);\n    }\n    if (opts.height != null) {\n      view.height(opts.height);\n    }\n    if (opts.padding != null) {\n      view.padding(opts.padding);\n    }\n  }\n\n  await view.initialize(container, opts.bind).runAsync();\n\n  let documentClickHandler: ((this: Document, ev: MouseEvent) => void) | undefined;\n\n  if (actions !== false) {\n    let wrapper = element;\n\n    if (opts.defaultStyle !== false) {\n      const details = document.createElement('details');\n      details.title = i18n.CLICK_TO_VIEW_ACTIONS;\n      element.append(details);\n\n      wrapper = details;\n      const summary = document.createElement('summary');\n      summary.innerHTML = SVG_CIRCLES;\n\n      details.append(summary);\n\n      documentClickHandler = (ev: MouseEvent) => {\n        if (!details.contains(ev.target as any)) {\n          details.removeAttribute('open');\n        }\n      };\n      document.addEventListener('click', documentClickHandler);\n    }\n\n    const ctrl = document.createElement('div');\n    wrapper.append(ctrl);\n    ctrl.classList.add('vega-actions');\n\n    // add 'Export' action\n    if (actions === true || actions.export !== false) {\n      for (const ext of ['svg', 'png'] as const) {\n        if (actions === true || actions.export === true || (actions.export as {svg?: boolean; png?: boolean})[ext]) {\n          const i18nExportAction = (i18n as {[key: string]: string})[`${ext.toUpperCase()}_ACTION`];\n          const exportLink = document.createElement('a');\n\n          exportLink.text = i18nExportAction;\n          exportLink.href = '#';\n          exportLink.target = '_blank';\n          exportLink.download = `${downloadFileName}.${ext}`;\n          // add link on mousedown so that it's correct when the click happens\n          exportLink.addEventListener('mousedown', async function (this, e) {\n            e.preventDefault();\n            const url = await view.toImageURL(ext, opts.scaleFactor);\n            this.href = url;\n          });\n\n          ctrl.append(exportLink);\n        }\n      }\n    }\n\n    // add 'View Source' action\n    if (actions === true || actions.source !== false) {\n      const viewSourceLink = document.createElement('a');\n\n      viewSourceLink.text = i18n.SOURCE_ACTION;\n      viewSourceLink.href = '#';\n      viewSourceLink.addEventListener('click', function (this, e) {\n        viewSource(stringify(spec), opts.sourceHeader ?? '', opts.sourceFooter ?? '', mode);\n        e.preventDefault();\n      });\n\n      ctrl.append(viewSourceLink);\n    }\n\n    // add 'View Compiled' action\n    if (mode === 'vega-lite' && (actions === true || actions.compiled !== false)) {\n      const compileLink = document.createElement('a');\n\n      compileLink.text = i18n.COMPILED_ACTION;\n      compileLink.href = '#';\n      compileLink.addEventListener('click', function (this, e) {\n        viewSource(stringify(vgSpec), opts.sourceHeader ?? '', opts.sourceFooter ?? '', 'vega');\n        e.preventDefault();\n      });\n\n      ctrl.append(compileLink);\n    }\n\n    // add 'Open in Vega Editor' action\n    if (actions === true || actions.editor !== false) {\n      const editorUrl = opts.editorUrl ?? 'https://vega.github.io/editor/';\n      const editorLink = document.createElement('a');\n\n      editorLink.text = i18n.EDITOR_ACTION;\n      editorLink.href = '#';\n      editorLink.addEventListener('click', function (this, e) {\n        post(window, editorUrl, {\n          config: config as Config,\n          mode,\n          renderer,\n          spec: stringify(spec),\n        });\n        e.preventDefault();\n      });\n\n      ctrl.append(editorLink);\n    }\n  }\n\n  function finalize() {\n    if (documentClickHandler) {\n      document.removeEventListener('click', documentClickHandler);\n    }\n    view.finalize();\n  }\n\n  return {view, spec, vgSpec, finalize, embedOptions: opts};\n}\n"]},"metadata":{},"sourceType":"module"}