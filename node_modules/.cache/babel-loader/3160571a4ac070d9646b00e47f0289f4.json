{"ast":null,"code":"import _regeneratorRuntime from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _createForOfIteratorHelper from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _classCallCheck from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nexport var AsyncSerialScheduler = /*#__PURE__*/function () {\n  function AsyncSerialScheduler(observer) {\n    _classCallCheck(this, AsyncSerialScheduler);\n    this._baseObserver = observer;\n    this._pendingPromises = new Set();\n  }\n  _createClass(AsyncSerialScheduler, [{\n    key: \"complete\",\n    value: function complete() {\n      var _this = this;\n      Promise.all(this._pendingPromises).then(function () {\n        return _this._baseObserver.complete();\n      }).catch(function (error) {\n        return _this._baseObserver.error(error);\n      });\n    }\n  }, {\n    key: \"error\",\n    value: function error(_error) {\n      this._baseObserver.error(_error);\n    }\n  }, {\n    key: \"schedule\",\n    value: function schedule(task) {\n      var _this2 = this;\n      var prevPromisesCompletion = Promise.all(this._pendingPromises);\n      var values = [];\n      var next = function next(value) {\n        return values.push(value);\n      };\n      var promise = Promise.resolve().then(function () {\n        return __awaiter(_this2, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n          var _iterator, _step, value;\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return prevPromisesCompletion;\n                case 2:\n                  _context.next = 4;\n                  return task(next);\n                case 4:\n                  this._pendingPromises.delete(promise);\n                  _iterator = _createForOfIteratorHelper(values);\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      value = _step.value;\n                      this._baseObserver.next(value);\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n                case 7:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n      }).catch(function (error) {\n        _this2._pendingPromises.delete(promise);\n        _this2._baseObserver.error(error);\n      });\n      this._pendingPromises.add(promise);\n    }\n  }]);\n  return AsyncSerialScheduler;\n}();","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","AsyncSerialScheduler","observer","_baseObserver","_pendingPromises","Set","all","complete","catch","error","task","prevPromisesCompletion","values","push","promise","delete","add"],"sources":["/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/observable-fns/dist.esm/_scheduler.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class AsyncSerialScheduler {\n    constructor(observer) {\n        this._baseObserver = observer;\n        this._pendingPromises = new Set();\n    }\n    complete() {\n        Promise.all(this._pendingPromises)\n            .then(() => this._baseObserver.complete())\n            .catch(error => this._baseObserver.error(error));\n    }\n    error(error) {\n        this._baseObserver.error(error);\n    }\n    schedule(task) {\n        const prevPromisesCompletion = Promise.all(this._pendingPromises);\n        const values = [];\n        const next = (value) => values.push(value);\n        const promise = Promise.resolve()\n            .then(() => __awaiter(this, void 0, void 0, function* () {\n            yield prevPromisesCompletion;\n            yield task(next);\n            this._pendingPromises.delete(promise);\n            for (const value of values) {\n                this._baseObserver.next(value);\n            }\n        }))\n            .catch(error => {\n            this._pendingPromises.delete(promise);\n            this._baseObserver.error(error);\n        });\n        this._pendingPromises.add(promise);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}