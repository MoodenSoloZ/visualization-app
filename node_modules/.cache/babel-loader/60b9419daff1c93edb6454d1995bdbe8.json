{"ast":null,"code":"import { getVgPositionChannel } from '../../../channel';\nimport * as log from '../../../log';\nimport { isSignalRef } from '../../../vega.schema';\nimport { getMarkPropOrConfig } from '../../common';\nvar ALIGNED_X_CHANNEL = {\n  left: 'x',\n  center: 'xc',\n  right: 'x2'\n};\nvar BASELINED_Y_CHANNEL = {\n  top: 'y',\n  middle: 'yc',\n  bottom: 'y2'\n};\nexport function vgAlignedPositionChannel(channel, markDef, config) {\n  var defaultAlign = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'middle';\n  if (channel === 'radius' || channel === 'theta') {\n    return getVgPositionChannel(channel);\n  }\n  var alignChannel = channel === 'x' ? 'align' : 'baseline';\n  var align = getMarkPropOrConfig(alignChannel, markDef, config);\n  var alignExcludingSignal;\n  if (isSignalRef(align)) {\n    log.warn(log.message.rangeMarkAlignmentCannotBeExpression(alignChannel));\n    alignExcludingSignal = undefined;\n  } else {\n    alignExcludingSignal = align;\n  }\n  if (channel === 'x') {\n    return ALIGNED_X_CHANNEL[alignExcludingSignal || (defaultAlign === 'top' ? 'left' : 'center')];\n  } else {\n    return BASELINED_Y_CHANNEL[alignExcludingSignal || defaultAlign];\n  }\n}","map":{"version":3,"sources":["../../../../../src/compile/mark/encode/position-align.ts"],"names":[],"mappings":"AACA,SAAQ,oBAAoB,QAAO,kBAAkB;AAErD,OAAO,KAAK,GAAG,MAAM,cAAc;AAEnC,SAAQ,WAAW,QAAwB,sBAAsB;AACjE,SAAQ,mBAAmB,QAAO,cAAc;AAEhD,IAAM,iBAAiB,GAAmC;EACxD,IAAI,EAAE,GAAG;EACT,MAAM,EAAE,IAAI;EACZ,KAAK,EAAE;CACR;AAED,IAAM,mBAAmB,GAAG;EAC1B,GAAG,EAAE,GAAG;EACR,MAAM,EAAE,IAAI;EACZ,MAAM,EAAE;CACT;AAED,OAAM,SAAU,wBAAwB,CACtC,OAAuC,EACvC,OAAiC,EACjC,MAAyB,EACgB;EAAA,IAAzC,YAAA,uEAAiC,QAAQ;EAEzC,IAAI,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,OAAO,EAAE;IAC/C,OAAO,oBAAoB,CAAC,OAAO,CAAC;EACrC;EACD,IAAM,YAAY,GAAG,OAAO,KAAK,GAAG,GAAG,OAAO,GAAG,UAAU;EAC3D,IAAM,KAAK,GAAG,mBAAmB,CAAC,YAAY,EAAE,OAAO,EAAE,MAAM,CAAC;EAEhE,IAAI,oBAA0C;EAE9C,IAAI,WAAW,CAAC,KAAK,CAAC,EAAE;IACtB,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,oCAAoC,CAAC,YAAY,CAAC,CAAC;IACxE,oBAAoB,GAAG,SAAS;GACjC,MAAM;IACL,oBAAoB,GAAG,KAAK;EAC7B;EAED,IAAI,OAAO,KAAK,GAAG,EAAE;IACnB,OAAO,iBAAiB,CAAC,oBAAoB,KAAK,YAAY,KAAK,KAAK,GAAG,MAAM,GAAG,QAAQ,CAAC,CAAC;GAC/F,MAAM;IACL,OAAO,mBAAmB,CAAC,oBAAoB,IAAI,YAAY,CAAC;EACjE;AACH","sourceRoot":"","sourcesContent":["import { getVgPositionChannel } from '../../../channel';\nimport * as log from '../../../log';\nimport { isSignalRef } from '../../../vega.schema';\nimport { getMarkPropOrConfig } from '../../common';\nconst ALIGNED_X_CHANNEL = {\n    left: 'x',\n    center: 'xc',\n    right: 'x2'\n};\nconst BASELINED_Y_CHANNEL = {\n    top: 'y',\n    middle: 'yc',\n    bottom: 'y2'\n};\nexport function vgAlignedPositionChannel(channel, markDef, config, defaultAlign = 'middle') {\n    if (channel === 'radius' || channel === 'theta') {\n        return getVgPositionChannel(channel);\n    }\n    const alignChannel = channel === 'x' ? 'align' : 'baseline';\n    const align = getMarkPropOrConfig(alignChannel, markDef, config);\n    let alignExcludingSignal;\n    if (isSignalRef(align)) {\n        log.warn(log.message.rangeMarkAlignmentCannotBeExpression(alignChannel));\n        alignExcludingSignal = undefined;\n    }\n    else {\n        alignExcludingSignal = align;\n    }\n    if (channel === 'x') {\n        return ALIGNED_X_CHANNEL[alignExcludingSignal || (defaultAlign === 'top' ? 'left' : 'center')];\n    }\n    else {\n        return BASELINED_Y_CHANNEL[alignExcludingSignal || defaultAlign];\n    }\n}\n//# sourceMappingURL=position-align.js.map"]},"metadata":{},"sourceType":"module"}