{"ast":null,"code":"import { isString } from 'vega-util';\nimport { fieldFilterExpression, isSelectionPredicate } from '../predicate';\nimport { logicalExpr } from '../util';\nimport { parseSelectionPredicate } from './selection/parse';\n/**\n * Converts a predicate into an expression.\n */\n// model is only used for selection filters.\nexport function expression(model, filterOp, node) {\n  return logicalExpr(filterOp, function (predicate) {\n    if (isString(predicate)) {\n      return predicate;\n    } else if (isSelectionPredicate(predicate)) {\n      return parseSelectionPredicate(model, predicate, node);\n    } else {\n      // Filter Object\n      return fieldFilterExpression(predicate);\n    }\n  });\n}","map":{"version":3,"sources":["../../../src/compile/predicate.ts"],"names":[],"mappings":"AAAA,SAAQ,QAAQ,QAAO,WAAW;AAElC,SAAQ,qBAAqB,EAAE,oBAAoB,QAAkB,cAAc;AACnF,SAAQ,WAAW,QAAO,SAAS;AAGnC,SAAQ,uBAAuB,QAAO,mBAAmB;AAEzD;;AAEG;AACH;AACA,OAAM,SAAU,UAAU,CAAC,KAAY,EAAE,QAAuC,EAAE,IAAmB,EAAA;EACnG,OAAO,WAAW,CAAC,QAAQ,EAAE,UAAC,SAAoB,EAAI;IACpD,IAAI,QAAQ,CAAC,SAAS,CAAC,EAAE;MACvB,OAAO,SAAS;KACjB,MAAM,IAAI,oBAAoB,CAAC,SAAS,CAAC,EAAE;MAC1C,OAAO,uBAAuB,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC;KACvD,MAAM;MACL;MACA,OAAO,qBAAqB,CAAC,SAAS,CAAC;IACxC;EACH,CAAC,CAAC;AACJ","sourceRoot":"","sourcesContent":["import { isString } from 'vega-util';\nimport { fieldFilterExpression, isSelectionPredicate } from '../predicate';\nimport { logicalExpr } from '../util';\nimport { parseSelectionPredicate } from './selection/parse';\n/**\n * Converts a predicate into an expression.\n */\n// model is only used for selection filters.\nexport function expression(model, filterOp, node) {\n    return logicalExpr(filterOp, (predicate) => {\n        if (isString(predicate)) {\n            return predicate;\n        }\n        else if (isSelectionPredicate(predicate)) {\n            return parseSelectionPredicate(model, predicate, node);\n        }\n        else {\n            // Filter Object\n            return fieldFilterExpression(predicate);\n        }\n    });\n}\n//# sourceMappingURL=predicate.js.map"]},"metadata":{},"sourceType":"module"}