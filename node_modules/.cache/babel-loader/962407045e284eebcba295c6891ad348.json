{"ast":null,"code":"import _regeneratorRuntime from \"/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\nfunction scan(accumulator, seed) {\n  return function (observable) {\n    return new Observable(function (observer) {\n      var accumulated;\n      var index = 0;\n      var scheduler = new AsyncSerialScheduler(observer);\n      var subscription = observable.subscribe({\n        complete: function complete() {\n          scheduler.complete();\n        },\n        error: function error(_error) {\n          scheduler.error(_error);\n        },\n        next: function next(value) {\n          var _this = this;\n          scheduler.schedule(function (next) {\n            return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n              var prevAcc;\n              return _regeneratorRuntime().wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      prevAcc = index === 0 ? typeof seed === \"undefined\" ? value : seed : accumulated;\n                      _context.next = 3;\n                      return accumulator(prevAcc, value, index++);\n                    case 3:\n                      accumulated = _context.sent;\n                      next(accumulated);\n                    case 5:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }));\n          });\n        }\n      });\n      return function () {\n        return unsubscribe(subscription);\n      };\n    });\n  };\n}\nexport default scan;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","AsyncSerialScheduler","Observable","unsubscribe","scan","accumulator","seed","observable","observer","accumulated","index","scheduler","subscription","subscribe","complete","error","schedule","prevAcc"],"sources":["/Users/weihangzhang/Documents/webpage/visualization-app/node_modules/observable-fns/dist.esm/scan.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\nfunction scan(accumulator, seed) {\n    return (observable) => {\n        return new Observable(observer => {\n            let accumulated;\n            let index = 0;\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(value) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        const prevAcc = index === 0\n                            ? (typeof seed === \"undefined\" ? value : seed)\n                            : accumulated;\n                        accumulated = yield accumulator(prevAcc, value, index++);\n                        next(accumulated);\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default scan;\n"],"mappings":";AAAA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAK,CAACC,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYH,CAAC,GAAGG,KAAK,GAAG,IAAIH,CAAC,CAAC,UAAUI,OAAO,EAAE;MAAEA,OAAO,CAACD,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAAS,CAACJ,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACN,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQ,CAACR,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAO,CAAC,CAACE,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAI,CAACI,MAAM,EAAE;MAAEA,MAAM,CAACC,IAAI,GAAGT,OAAO,CAACQ,MAAM,CAACT,KAAK,CAAC,GAAGD,KAAK,CAACU,MAAM,CAACT,KAAK,CAAC,CAACW,IAAI,CAACP,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAK,CAACjB,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAEU,IAAI,EAAE,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,SAASO,oBAAoB,QAAQ,cAAc;AACnD,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,IAAI,CAACC,WAAW,EAAEC,IAAI,EAAE;EAC7B,OAAO,UAACC,UAAU,EAAK;IACnB,OAAO,IAAIL,UAAU,CAAC,UAAAM,QAAQ,EAAI;MAC9B,IAAIC,WAAW;MACf,IAAIC,KAAK,GAAG,CAAC;MACb,IAAMC,SAAS,GAAG,IAAIV,oBAAoB,CAACO,QAAQ,CAAC;MACpD,IAAMI,YAAY,GAAGL,UAAU,CAACM,SAAS,CAAC;QACtCC,QAAQ,sBAAG;UACPH,SAAS,CAACG,QAAQ,EAAE;QACxB,CAAC;QACDC,KAAK,iBAACA,MAAK,EAAE;UACTJ,SAAS,CAACI,KAAK,CAACA,MAAK,CAAC;QAC1B,CAAC;QACDrB,IAAI,gBAACN,KAAK,EAAE;UAAA;UACRuB,SAAS,CAACK,QAAQ,CAAC,UAACtB,IAAI;YAAA,OAAKZ,SAAS,CAAC,KAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,0CAAE;cAAA;cAAA;gBAAA;kBAAA;oBAAA;sBACnDmC,OAAO,GAAGP,KAAK,KAAK,CAAC,GACpB,OAAOJ,IAAI,KAAK,WAAW,GAAGlB,KAAK,GAAGkB,IAAI,GAC3CG,WAAW;sBAAA;sBACH,OAAMJ,WAAW,CAACY,OAAO,EAAE7B,KAAK,EAAEsB,KAAK,EAAE,CAAC;oBAAA;sBAAxDD,WAAW;sBACXf,IAAI,CAACe,WAAW,CAAC;oBAAC;oBAAA;sBAAA;kBAAA;gBAAA;cAAA;YAAA,CACrB,EAAC;UAAA,EAAC;QACP;MACJ,CAAC,CAAC;MACF,OAAO;QAAA,OAAMN,WAAW,CAACS,YAAY,CAAC;MAAA;IAC1C,CAAC,CAAC;EACN,CAAC;AACL;AACA,eAAeR,IAAI"},"metadata":{},"sourceType":"module"}