{"ast":null,"code":"import { keys } from './util';\n/**\n * All types of primitive marks.\n */\nexport var Mark = {\n  arc: 'arc',\n  area: 'area',\n  bar: 'bar',\n  image: 'image',\n  line: 'line',\n  point: 'point',\n  rect: 'rect',\n  rule: 'rule',\n  text: 'text',\n  tick: 'tick',\n  trail: 'trail',\n  circle: 'circle',\n  square: 'square',\n  geoshape: 'geoshape'\n};\nexport var ARC = Mark.arc;\nexport var AREA = Mark.area;\nexport var BAR = Mark.bar;\nexport var IMAGE = Mark.image;\nexport var LINE = Mark.line;\nexport var POINT = Mark.point;\nexport var RECT = Mark.rect;\nexport var RULE = Mark.rule;\nexport var TEXT = Mark.text;\nexport var TICK = Mark.tick;\nexport var TRAIL = Mark.trail;\nexport var CIRCLE = Mark.circle;\nexport var SQUARE = Mark.square;\nexport var GEOSHAPE = Mark.geoshape;\nexport function isMark(m) {\n  return m in Mark;\n}\nexport function isPathMark(m) {\n  return ['line', 'area', 'trail'].includes(m);\n}\nexport function isRectBasedMark(m) {\n  return ['rect', 'bar', 'image', 'arc' /* arc is rect/interval in polar coordinate */].includes(m);\n}\nexport var PRIMITIVE_MARKS = new Set(keys(Mark));\nexport function isMarkDef(mark) {\n  return mark['type'];\n}\nexport function isPrimitiveMark(mark) {\n  var markType = isMarkDef(mark) ? mark.type : mark;\n  return PRIMITIVE_MARKS.has(markType);\n}\nexport var STROKE_CONFIG = ['stroke', 'strokeWidth', 'strokeDash', 'strokeDashOffset', 'strokeOpacity', 'strokeJoin', 'strokeMiterLimit'];\nexport var FILL_CONFIG = ['fill', 'fillOpacity'];\nexport var FILL_STROKE_CONFIG = [].concat(STROKE_CONFIG, FILL_CONFIG);\nvar VL_ONLY_MARK_CONFIG_INDEX = {\n  color: 1,\n  filled: 1,\n  invalid: 1,\n  order: 1,\n  radius2: 1,\n  theta2: 1,\n  timeUnitBandSize: 1,\n  timeUnitBandPosition: 1\n};\nexport var VL_ONLY_MARK_CONFIG_PROPERTIES = keys(VL_ONLY_MARK_CONFIG_INDEX);\nexport var VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX = {\n  area: ['line', 'point'],\n  bar: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n  rect: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n  line: ['point'],\n  tick: ['bandSize', 'thickness']\n};\nexport var defaultMarkConfig = {\n  color: '#4c78a8',\n  invalid: 'filter',\n  timeUnitBandSize: 1\n};\nvar MARK_CONFIG_INDEX = {\n  mark: 1,\n  arc: 1,\n  area: 1,\n  bar: 1,\n  circle: 1,\n  image: 1,\n  line: 1,\n  point: 1,\n  rect: 1,\n  rule: 1,\n  square: 1,\n  text: 1,\n  tick: 1,\n  trail: 1,\n  geoshape: 1\n};\nexport var MARK_CONFIGS = keys(MARK_CONFIG_INDEX);\nexport function isRelativeBandSize(o) {\n  return o && o['band'] != undefined;\n}\nexport var BAR_CORNER_RADIUS_INDEX = {\n  horizontal: ['cornerRadiusTopRight', 'cornerRadiusBottomRight'],\n  vertical: ['cornerRadiusTopLeft', 'cornerRadiusTopRight']\n};\nvar DEFAULT_RECT_BAND_SIZE = 5;\nexport var defaultBarConfig = {\n  binSpacing: 1,\n  continuousBandSize: DEFAULT_RECT_BAND_SIZE,\n  timeUnitBandPosition: 0.5\n};\nexport var defaultRectConfig = {\n  binSpacing: 0,\n  continuousBandSize: DEFAULT_RECT_BAND_SIZE,\n  timeUnitBandPosition: 0.5\n};\nexport var defaultTickConfig = {\n  thickness: 1\n};\nexport function getMarkType(m) {\n  return isMarkDef(m) ? m.type : m;\n}","map":{"version":3,"sources":["../../src/mark.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { keys } from './util';\n/**\n * All types of primitive marks.\n */\nexport const Mark = {\n    arc: 'arc',\n    area: 'area',\n    bar: 'bar',\n    image: 'image',\n    line: 'line',\n    point: 'point',\n    rect: 'rect',\n    rule: 'rule',\n    text: 'text',\n    tick: 'tick',\n    trail: 'trail',\n    circle: 'circle',\n    square: 'square',\n    geoshape: 'geoshape'\n};\nexport const ARC = Mark.arc;\nexport const AREA = Mark.area;\nexport const BAR = Mark.bar;\nexport const IMAGE = Mark.image;\nexport const LINE = Mark.line;\nexport const POINT = Mark.point;\nexport const RECT = Mark.rect;\nexport const RULE = Mark.rule;\nexport const TEXT = Mark.text;\nexport const TICK = Mark.tick;\nexport const TRAIL = Mark.trail;\nexport const CIRCLE = Mark.circle;\nexport const SQUARE = Mark.square;\nexport const GEOSHAPE = Mark.geoshape;\nexport function isMark(m) {\n    return m in Mark;\n}\nexport function isPathMark(m) {\n    return ['line', 'area', 'trail'].includes(m);\n}\nexport function isRectBasedMark(m) {\n    return ['rect', 'bar', 'image', 'arc' /* arc is rect/interval in polar coordinate */].includes(m);\n}\nexport const PRIMITIVE_MARKS = new Set(keys(Mark));\nexport function isMarkDef(mark) {\n    return mark['type'];\n}\nexport function isPrimitiveMark(mark) {\n    const markType = isMarkDef(mark) ? mark.type : mark;\n    return PRIMITIVE_MARKS.has(markType);\n}\nexport const STROKE_CONFIG = [\n    'stroke',\n    'strokeWidth',\n    'strokeDash',\n    'strokeDashOffset',\n    'strokeOpacity',\n    'strokeJoin',\n    'strokeMiterLimit'\n];\nexport const FILL_CONFIG = ['fill', 'fillOpacity'];\nexport const FILL_STROKE_CONFIG = [...STROKE_CONFIG, ...FILL_CONFIG];\nconst VL_ONLY_MARK_CONFIG_INDEX = {\n    color: 1,\n    filled: 1,\n    invalid: 1,\n    order: 1,\n    radius2: 1,\n    theta2: 1,\n    timeUnitBandSize: 1,\n    timeUnitBandPosition: 1\n};\nexport const VL_ONLY_MARK_CONFIG_PROPERTIES = keys(VL_ONLY_MARK_CONFIG_INDEX);\nexport const VL_ONLY_MARK_SPECIFIC_CONFIG_PROPERTY_INDEX = {\n    area: ['line', 'point'],\n    bar: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n    rect: ['binSpacing', 'continuousBandSize', 'discreteBandSize'],\n    line: ['point'],\n    tick: ['bandSize', 'thickness']\n};\nexport const defaultMarkConfig = {\n    color: '#4c78a8',\n    invalid: 'filter',\n    timeUnitBandSize: 1\n};\nconst MARK_CONFIG_INDEX = {\n    mark: 1,\n    arc: 1,\n    area: 1,\n    bar: 1,\n    circle: 1,\n    image: 1,\n    line: 1,\n    point: 1,\n    rect: 1,\n    rule: 1,\n    square: 1,\n    text: 1,\n    tick: 1,\n    trail: 1,\n    geoshape: 1\n};\nexport const MARK_CONFIGS = keys(MARK_CONFIG_INDEX);\nexport function isRelativeBandSize(o) {\n    return o && o['band'] != undefined;\n}\nexport const BAR_CORNER_RADIUS_INDEX = {\n    horizontal: ['cornerRadiusTopRight', 'cornerRadiusBottomRight'],\n    vertical: ['cornerRadiusTopLeft', 'cornerRadiusTopRight']\n};\nconst DEFAULT_RECT_BAND_SIZE = 5;\nexport const defaultBarConfig = {\n    binSpacing: 1,\n    continuousBandSize: DEFAULT_RECT_BAND_SIZE,\n    timeUnitBandPosition: 0.5\n};\nexport const defaultRectConfig = {\n    binSpacing: 0,\n    continuousBandSize: DEFAULT_RECT_BAND_SIZE,\n    timeUnitBandPosition: 0.5\n};\nexport const defaultTickConfig = {\n    thickness: 1\n};\nexport function getMarkType(m) {\n    return isMarkDef(m) ? m.type : m;\n}\n//# sourceMappingURL=mark.js.map"]},"metadata":{},"sourceType":"module"}