{"ast":null,"code":"import _slicedToArray from\"/Users/weihangzhang/Documents/webpage/gosling-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from'react';import{GoslingComponent}from'gosling.js';var MARK_OPTIONS=['point','bar','line','area'];var LAYOUT_OPTIONS=['linear','circular'];var goslingSpec=function goslingSpec(mark,layout,binSize){return{layout:layout,arrangement:'vertical',centerRadius:0.4,xDomain:{chromosome:'1'},style:{select:{color:'black',stroke:'black',strokeWidth:6,arrange:'behind',opacity:0.1}},views:[{tracks:[{id:'widget-track',data:{url:'https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec',type:'multivec',row:'sample',column:'position',value:'peak',categories:Array.from(Array(6)).map(function(_,i){return\"sample \".concat(i);}),binSize:binSize===0?1:binSize},mark:mark,x:{field:'start',type:'genomic'},xe:{field:'end',type:'genomic'},row:{field:'sample',type:'nominal',legend:false},y:{field:'peak',type:'quantitative',axis:'none'},color:{field:'sample',type:'nominal',legend:true},tooltip:[{field:'start',type:'genomic',alt:'Start Position'},{field:'end',type:'genomic',alt:'End Position'},{field:'peak',type:'quantitative',alt:'Value',format:'.2'},{field:'sample',type:'nominal',alt:'Sample'}],width:600,height:230}]}]};};function WidgetEncoding(){var gosRef=useRef(null);var _useState=useState('point'),_useState2=_slicedToArray(_useState,2),mark=_useState2[0],setMark=_useState2[1];var _useState3=useState('linear'),_useState4=_slicedToArray(_useState3,2),layout=_useState4[0],setLayout=_useState4[1];var _useState5=useState(8),_useState6=_slicedToArray(_useState5,2),binSize=_useState6[0],setBinSize=_useState6[1];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:30,marginLeft:80}},'Bin Size: ',/*#__PURE__*/React.createElement(\"input\",{type:\"range\",min:0,max:32,step:4,value:binSize,className:\"slider\",id:\"bin-slider\",style:{width:100,display:'inline',margin:10},onChange:function onChange(e){return setBinSize(+e.currentTarget.value);}}),binSize===0?1:binSize)),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:30,marginLeft:80}},'Mark: ',/*#__PURE__*/React.createElement(\"select\",{name:\"mark\",onChange:function onChange(e){return setMark(e.currentTarget.value);}},MARK_OPTIONS.map(function(d){return/*#__PURE__*/React.createElement(\"option\",{key:d,value:d},d);}))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:30,marginLeft:80}},'Layout: ',/*#__PURE__*/React.createElement(\"select\",{name:\"layout\",onChange:function onChange(e){return setLayout(e.currentTarget.value);}},LAYOUT_OPTIONS.map(function(d){return/*#__PURE__*/React.createElement(\"option\",{key:d,value:d},d);}))),/*#__PURE__*/React.createElement(GoslingComponent,{ref:gosRef,spec:goslingSpec(mark,layout,binSize),experimental:{reactive:true}}));}export default WidgetEncoding;","map":{"version":3,"names":["React","useState","useRef","GoslingComponent","MARK_OPTIONS","LAYOUT_OPTIONS","goslingSpec","mark","layout","binSize","arrangement","centerRadius","xDomain","chromosome","style","select","color","stroke","strokeWidth","arrange","opacity","views","tracks","id","data","url","type","row","column","value","categories","Array","from","map","_","i","x","field","xe","legend","y","axis","tooltip","alt","format","width","height","WidgetEncoding","gosRef","setMark","setLayout","setBinSize","marginTop","marginLeft","display","margin","e","currentTarget","d","reactive"],"sources":["/Users/weihangzhang/Documents/webpage/gosling-react/src/example/WidgetEncoding.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { GoslingComponent } from 'gosling.js';\n\nconst MARK_OPTIONS = ['point', 'bar', 'line', 'area'];\nconst LAYOUT_OPTIONS = ['linear', 'circular'];\n\nconst goslingSpec = (mark, layout, binSize) => {\n\treturn {\n\t\tlayout,\n\t\tarrangement: 'vertical',\n\t\tcenterRadius: 0.4,\n\t\txDomain: { chromosome: '1' },\n\t\tstyle: {\n\t\t\tselect: { color: 'black', stroke: 'black', strokeWidth: 6, arrange: 'behind', opacity: 0.1 }\n\t\t},\n\t\tviews: [\n\t\t\t{\n\t\t\t\ttracks: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'widget-track',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\turl: 'https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec',\n\t\t\t\t\t\t\ttype: 'multivec',\n\t\t\t\t\t\t\trow: 'sample',\n\t\t\t\t\t\t\tcolumn: 'position',\n\t\t\t\t\t\t\tvalue: 'peak',\n\t\t\t\t\t\t\tcategories: Array.from(Array(6)).map((_, i) => `sample ${i}`),\n\t\t\t\t\t\t\tbinSize: binSize === 0 ? 1 : binSize\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmark: mark,\n\t\t\t\t\t\tx: { field: 'start', type: 'genomic' },\n\t\t\t\t\t\txe: { field: 'end', type: 'genomic' },\n\t\t\t\t\t\trow: { field: 'sample', type: 'nominal', legend: false },\n\t\t\t\t\t\ty: { field: 'peak', type: 'quantitative', axis: 'none' },\n\t\t\t\t\t\tcolor: { field: 'sample', type: 'nominal', legend: true },\n\t\t\t\t\t\ttooltip: [\n\t\t\t\t\t\t\t{ field: 'start', type: 'genomic', alt: 'Start Position' },\n\t\t\t\t\t\t\t{ field: 'end', type: 'genomic', alt: 'End Position' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: 'peak',\n\t\t\t\t\t\t\t\ttype: 'quantitative',\n\t\t\t\t\t\t\t\talt: 'Value',\n\t\t\t\t\t\t\t\tformat: '.2'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ field: 'sample', type: 'nominal', alt: 'Sample' }\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: 600,\n\t\t\t\t\t\theight: 230\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t]\n\t}\n};\n\nfunction WidgetEncoding() {\n\tconst gosRef = useRef(null);\n\n\tconst [mark, setMark] = useState('point');\n\tconst [layout, setLayout] = useState('linear');\n\tconst [binSize, setBinSize] = useState(8);\n\n\treturn (\n\t\t<>\n\t\t\t<span>\n\t\t\t\t<div style={{ marginTop: 30, marginLeft: 80 }}>\n\t\t\t\t\t{'Bin Size: '}\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={32}\n\t\t\t\t\t\tstep={4}\n\t\t\t\t\t\tvalue={binSize}\n\t\t\t\t\t\tclassName=\"slider\"\n\t\t\t\t\t\tid=\"bin-slider\"\n\t\t\t\t\t\tstyle={{ width: 100, display: 'inline', margin: 10 }}\n\t\t\t\t\t\tonChange={(e) => setBinSize(+e.currentTarget.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t{binSize === 0 ? 1 : binSize}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<div style={{ marginTop: 30, marginLeft: 80 }}>\n\t\t\t\t{'Mark: '}\n\t\t\t\t<select name=\"mark\" onChange={(e) => setMark(e.currentTarget.value)}>\n\t\t\t\t\t{MARK_OPTIONS.map(d => <option key={d} value={d}>{d}</option>)}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div style={{ marginTop: 30, marginLeft: 80 }}>\n\t\t\t\t{'Layout: '}\n\t\t\t\t<select name=\"layout\" onChange={(e) => setLayout(e.currentTarget.value)}>\n\t\t\t\t\t{LAYOUT_OPTIONS.map(d => <option key={d} value={d}>{d}</option>)}\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<GoslingComponent\n\t\t\t\tref={gosRef}\n\t\t\t\tspec={goslingSpec(mark, layout, binSize)}\n\t\t\t\texperimental={{ reactive: true }}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default WidgetEncoding;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}